\documentclass{article}
\PassOptionsToPackage{no-math}{fontspec}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%% 本书所用 设置 及其选项%4.4.5
%%%%%%    版式设置
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%% 添加fntef选项，它将会自动加载下画线宏包CJKfntef
% \usepackage[space, fntef, 
% zihao=false,scheme=chinese,heading=true]{ctex}

\usepackage[heading=true
,scheme=chinese%中文方案
,fontset=none%不使用默认的字体设置
,space=auto%自动调整中英文间距
]{ctex}
\usepackage{ydoc-desc}
\usepackage{ydoc-doc}
\usepackage{ydoc-code}
\usepackage{ydoc-expl}
\usepackage{pdfcolparcolumns}

%
% 字体和符号宏包
%
%\setmainfont{ } %一般就是论文中西文部分默认使用的字体。
%通常到 Word 2003 为止，这里的默认字体都会是 Times New Roman。Linux 下也有同名字体。
\setmainfont{cmun}[
  Extension       = .otf,
  UprightFont     = *rm,
  ItalicFont      = *ti,
  SlantedFont     = *sl,
  BoldFont        = *bx,
  BoldItalicFont  = *bi,
  BoldSlantedFont = *bl,
]
%\setsansfont{ } %是西文默认无衬线字体。一般可能出现在大标题等显眼的位置。
%这一部分经常碰上的字体会是 Helvetica/Arial。
%Linux下也有 Helvetica，前缀是 -adobe-helvetica-* 。
%这是一个古老的非抗锯齿版本（也就是不用 fontconfig 配置而使用 xfontsel），
%所以如今的 XWindow 环境应该不会再使用它作为屏幕字体。
%而 Windows 下的 Word 则经常会默认为 Arial ————之前我说Windows下也能看见Helvetica，应该是源自一些错误的印象。
%经再次确认，Word 和 Windows 本身都不自带 Helvetica。感谢@梁海 君指出 Windows 下没有 Helvetica。
\setsansfont{cmun}[
  Extension      = .otf,
  UprightFont    = *ss,
  ItalicFont     = *si,
  BoldFont       = *sx,
  BoldItalicFont = *so,
]
%\setmonofont{ }%是西文默认的等宽字体。一般用于排版程序代码。
%Courier 或者 Courier New 是常见的 Word 选项。Linux 下一般会有 Courier，但很少能看见 Courier New。
\setmonofont{cmun}[
  Extension      = .otf,
  UprightFont    = *btl,% light version
  ItalicFont     = *bto,%  light version
  BoldFont       = *tb,
  BoldItalicFont = *tx,
]

% 设置主要文字 https://zhuanlan.zhihu.com/p/260989874
% 首先是对整篇文档主要文字的设置，包括默认字体、加粗字体和斜体字体，
\setCJKmainfont{方正书宋_GBK}%方正书宋_GBK.TTF  设置文本的中文有衬线字体为“方正书宋_GBK”
\setCJKsansfont{方正黑体简体}%方正黑体_GBK.TTF  设置文本的中文无衬线字体为“方正黑体简体”
\setCJKmonofont{方正书宋简体}%方正仿宋_GBK.TTF  设置文本的中文等宽字体为“方正书宋简体”
% % \usepackage{newverbs}
\usepackage{tabularx}

\newenvironment{options}{%
    \def\cstart{\begingroup\ttfamily\par\noindent\ignorespaces}%
    \def\csep{\endgroup\begingroup\list {}{}\item \relax}%
    \def\cend{\endlist\par\medskip\endgroup\cstart}%
    \cstart
}{%
    \endgroup
}

\makeatletter

\makeatother

% \title{The \textsf{texdef} script}
\title{\textsf{texdef}脚本}
\author{Martin Scharrer \\
\texttt{martin@scharrer-online.de}\\
翻译：virhuiai@qq.com\\
VC: \url{https://sourceforge.net/projects/texdef/}\\[-1.5em]
% CTAN: http://www.ctan.org/pkg/texdef \\
% VC: https://sourceforge.net/projects/texdef/
}
\date{Version 1.9 -- 2020/09/27}

\begin{document}
\parindent=0pt
\maketitle


\begin{abstract}
\noindent
This Perl script shows the definition of \LaTeX\ commands in a similar way as the \TeX\ primitive \Macro\show.
It is intended to allow users to quickly see the definitions of user level or internal package macros as well as the
values of registers. The given commands are compiled internally with \LaTeX\ and the output of \Macro\show is formatted
and shown to the user.

\noindent
% 这个 Perl 脚本，使用和 \TeX\ 原始命令 \Macro\show 类似的方式，展示 \LaTeX\ 命令的定义。
% 它旨在让用户能快速查看到命令的定义以及registers的值，不论是用户自定义的，还是宏包包含。
% 指定的命令 are compiled internally with \LaTeX\ and 结果 of \Macro\show 被格式化并展示给用户。
这个 Perl 脚本以与 \TeX\ 原始命令 \Macro\show 类似的方式显示 \LaTeX\ 命令的定义。
它旨在允许用户快速查看用户级别或内部包宏的定义以及寄存器的值。给定的命令在 \LaTeX\ 中被内部编译，
\Macro\show 的输出被格式化并显示给用户。
\end{abstract}

\section{Usage\\用法}

The script executable is called \texttt{texdef} (or maybe \texttt{texdef.pl}).
A normal installation is supposed to also install it as \texttt{latexdef} (e.g.\ using a symlink to \texttt{texdef}) in order to 
allow for quick access to the \LaTeX\ format. Further format shortcuts are possible as explained in the installation section.
% 这个可执行脚本是 \texttt{texdef} (或 \texttt{texdef.pl}).
% 正常安装后，\texttt{texdef} 也会被软链接为文件 \texttt{latexdef}，
% 以方便你快速访问 \LaTeX\ 格式下的命令定义。 在后面的安装部分会介绍更多指定了格式的快捷方式。

这个脚本的可执行文件名为 \texttt{texdef}（或者可能是 \texttt{texdef.pl}）。正常安装也应该将其安装为 \texttt{latexdef}（例如使用到 \texttt{texdef} 的符号链接），
以便快速访问 \LaTeX\ 格式。在安装部分中解释了可能的其他格式快捷方式。
%todo 软链接 展示

\parindent=0pt
\DescribeScript{texdef}[<options>]~<commandname>~[<commandname>~!\ldots!]
\DescribeScript{latexdef}[<options>]~<commandname>~[<commandname>~!\ldots!]

% \parindent=0pt
% \DescribeScript{texdef}[<options>]~<命令名称>~[<命令名称>~!\ldots!]
% \DescribeScript{latexdef}[<options>]~<命令名称>~[<命令名称>~!\ldots!]

Other program names are possible. See the \texttt{tex} option.  Command names do not need to start with `|\|'.

% 程序名称也可能其他名称，见 \texttt{tex} 选项的说明.  命令名称不需要用 `|\|' 开始。
其他程序名称也是可能的。请参见 \texttt{tex} 选项。命令名称不需要以 `|\|' 开头。


\subsection*{Options\\选项}

% \addvspace{\parskip}
\begin{parcolumns}[rulebetween=true,colwidths={2=.6\linewidth}]{2}
  \colchunk{可以使用以下选项：}
  \colchunk{The following options can be used:}
\end{parcolumns}


\par\medskip  

\begin{options}
--tex \MacroArgs<format>, -t \MacroArgs<format>    \csep Use given format of TeX: `tex', `latex', `context'.
Variations of `tex' and `latex', like `luatex', `lualatex', `xetex', `xelatex' are supported.
The postfix `-dev' for develop versions of the format is also supported (e.g. `latex-dev').
The default is given by the used program name: `texdef' -> `tex', `latexdef' -> `latex', etc.

使用TeX的给定格式：tex'、latex'、context'。 支持tex'和latex'的变种，例如luatex'、lualatex'、xetex'、xelatex'。 还支持格式开发版本的后缀-dev'（例如latex-dev'）。 默认值由所使用的程序名称确定：texdef' -> tex'，latexdef' -> `latex'等。
\cend
\end{options}
% \csep 指定TeX格式: `tex', `latex', `context'.
% `tex'和'latex'的变体, 如`luatex', `lualatex', `xetex', `xelatex' 都是支持的.
% 带`-dev'后缀的开发版本格式也是支持的(如：'latex-dev').
% 默认的格式是由我们的脚本名决定的: `texdef' -> `tex', `latexdef' -> `latex', etc.\cend


\begin{options}
--texoptions \MacroArgs<options>                   

\csep Call \LaTeX/\TeX{} with the given options.

使用给定的选项调用 \LaTeX/\TeX{} 。
\cend
\end{options}

\begin{options}
  --source, -s                                       \csep 
Try to show the original source code of the command definition (L).

尝试显示命令定义的原始源代码。(L)
\cend
  % --source, -s   \csep  尝试显示命令定义的原始源代码。（L）\cend
\end{options}


\begin{options}
  --value, -v                                        \csep 
  Show value of command instead (i.e. \Macro\the\AlsoMacro\command).

  显示命令的值，而不是命令本身（即 \Macro\the\AlsoMacro\command）。
  \cend
\end{options}
% --value, -v                                        \csep 显示命令的值 (i.e. 


\begin{options}
  --preamble, -P                                     \csep 
  Show definition of the command inside the preamble.

  显示导言区内的命令定义。
  \cend
\end{options}
% --preamble, -P                                     \csep 显示导言区中命令的定义。\cend

\begin{options}
--Environment, -E                                  \csep 
Every command name is taken as an environment name. This will show the definition of
both \Macro\foo and \Macro\endfoo if \texttt{foo} is used as command name (L).

每个命令名都被视为一个环境名。如果使用\texttt{foo}作为命令名，这将显示\Macro\foo和\Macro\endfoo 的定义（L）。
\cend
\end{options}
% --Environment, -E                                  \csep 将指定的命令视为环境名称。 如果指定了要查看的命令 \texttt{foo} ，它将同时显示 \Macro\foo 和 \Macro\endfoo 的定义。（L）\cend


\begin{options}
  --beforeclass, -B                                  \csep 
  Show definition of the command before \Macro\documentclass.

  显示命令在 \Macro\documentclass 之前的定义，
  \cend  
\end{options}
% --beforeclass, -B                                  \csep 显示在 \Macro\documentclass 之前的命令定义  .\cend

\begin{options}
  --package \MacroArgs<pkg>, -p \MacroArgs<pkg>      \csep
(M) Load given tex-file, package or module depending on whether `*tex', `*latex'
or `context' is used. For LaTeX the \MacroArgs<pkg> can start with `[<options>]` and end
with \MacroArgs<pkgname> or \MacroArgs{<pkgname>}.

根据使用的是 `*tex'，`*latex'还是`context'，加载给定的tex文件、包或模块。对于LaTeX，\MacroArgs<pkg>可以以`[<options>]'开头，并以\MacroArgs<pkgname> 或\MacroArgs{<pkgname>} 结尾。
\cend
\end{options}
% --package \MacroArgs<pkg>, -p \MacroArgs<pkg>      \csep 加载指定的 tex-file, package 或 module， depending on whether `*tex', `*latex'
%                                                        or `context' is used. 对 LaTeX，\MacroArgs<pkg> 可以是带参数的 \MacroArgs[<参数>]\MacroArgs{<pkgname>}，也可以是不带参数的 \MacroArgs{<pkgname>}..\cend

\begin{options}
  --class \MacroArgs<class>, -c \MacroArgs<class>    \csep 
(LaTeX only) Load given class instead of default (`article').
The \MacroArgs<class> can start with \MacroArgs[<class options>] and end
with \MacroArgs<classname> or \MacroArgs{<classname>}.
  
（仅限LaTeX）加载给定的类，而不是默认的（`article'）。\MacroArgs<class> 可以以\MacroArgs[<class options>] 开头，并以\MacroArgs<classname> 或\MacroArgs{<classname>} 结尾。
  \cend
\end{options}
% --class \MacroArgs<class>, -c \MacroArgs<class>    \csep (仅LaTeX) 指定加载的文类(默认是`article').
% \MacroArgs<class> 可以是带参数的 \MacroArgs[<参数>]\MacroArgs{<classname>}，也可以是不带参数的 \MacroArgs{<classname>}.\cend

\begin{options}
  --environment \MacroArgs<env>, -p \MacroArgs<env>  \csep 
(M) Show definition inside the given environment \MacroArgs<env>.

（M）显示在给定的环境\MacroArgs<env> 中的定义。
\cend
\end{options}
% --environment \MacroArgs<env>, -e \MacroArgs<env>  \csep 展示命令在指定的环境中的定义 \MacroArgs<env>.\cend

\begin{options}
  --othercode \MacroArgs<code>, -o \MacroArgs<code>  \csep
(M) Add other code into the preamble before the definition is shown.
This can be used to e.g. load PGF/TikZ libraries.

（M）在显示定义之前，将其他代码添加到序言中。这可以用来例如加载PGF/TikZ库。
  \cend
\end{options}
% --othercode \MacroArgs<code>, -o \MacroArgs<code>  \csep 在展示命令的定义前，在导言区添加另外的代码。
% 这可以用来加载一些宏包，如 PGF/TikZ 宏包。\cend

\begin{options}
  --before \MacroArgs<code>, -b \MacroArgs<code>     \csep 
(M) Place \MacroArgs<code> before definition is shown. 
The \MacroArgs<code> can be arbitray TeX code and doesn't need be be balanced.

% 在定义显示之前，将 \MacroArgs<code> 放置在（M）位置。 \MacroArgs<code> 可以是任意的 TeX 代码，不需要平衡。
(M) 将\MacroArgs <code> 放置在定义显示之前。 \MacroArgs <code>可以是任意的TeX代码，不需要是平衡的\footnote{译注："balanced" 可以翻译为 "平衡的"，在计算机科学中通常表示某种数据结构中左右括号的数量相等，例如在括号匹配的问题中，括号序列是平衡的当且仅当左右括号的数量相等且括号的配对方式正确。}。
\cend 
\end{options}
% --before \MacroArgs<code>, -b \MacroArgs<code>     \csep 在展示命令的定义前插入的 \MacroArgs<code> 。
%                                                        \MacroArgs<code> 可以是任意的 TeX 代码且 doesn't need be be balanced。\cend
%todo balance还可以翻译成啥


\begin{options}
  --after  \MacroArgs<code>, -a \MacroArgs<code>     \csep 
(M) 
Place \MacroArgs<code> after definition is shown.
  The \MacroArgs<code> can be arbitray TeX code and doesn't need be be balanced.
  
(M) 将\MacroArgs <code>放在定义之后显示。
\MacroArgs <code>可以是任意的TeX代码，不需要是平衡的。
\cend
\end{options}
% --after  \MacroArgs<code>, -a \MacroArgs<code>     \csep 在展示命令的定义后插入的 \MacroArgs<code> 。
%                                                        \MacroArgs<code> 可以是任意的 TeX 代码且 doesn't need be be balanced.\cend

\begin{options}
  --find, -f                                         \csep 
Find file where the command sequence was defined (L).

查找命令序列定义所在的文件 (L).
\cend
\end{options}
%  \csep 查找指定的命令，其他定义所在的文件名。（L）\cend

\begin{options}
--Find, -F                                         \csep 
Show full filepath of the file where the command sequence was defined (L).

显示命令序列定义所在文件的完整路径 (L)。
\cend
\end{options}
% \csep 查找指定的命令，其他定义所在的文件的完整路径。（L）\cend

\begin{options}
--list, -l                                         \csep 
List user level command sequences of the given packages (L).

列出给定包的用户级别命令序列 (L)。
\cend
\end{options}
% --list, -l                                         \csep 列出给定包的用户级命令列表。（L）\cend

\begin{options}
--list-defs, -L                                    \csep 
List user level command sequences and their shorten definitions of the given packages (L).

列出给定包的用户级别命令序列及其简短定义 (L)。
\cend
\end{options}
% --list-defs, -L                                    \csep 列出给定包的用户级命令及其简短定义的列表。（L）\cend

\begin{options}
--list-all, -ll                                    \csep 
List all command sequences of the given packages (L).

列出给定包的所有命令序列 (L)。
% --list-all, -ll                                    \csep 列出给定包的所有命令列表。（L）\cend
\cend
\end{options}

\begin{options}
--list-defs-all, -LL                               \csep 
List all command sequences and their shorten definitions of the given packages (L).

列出给定包的所有命令序列及其简短定义 (L)。
\cend
% --list-defs-all, -LL                               \csep 列出给定包的所有命令及其简短定义的列表。（L）
\end{options}

\begin{options}
--ignore-cmds \MacroArgs<cs,cs,..>,  -i            \csep 
Ignore the following command sequence(s) in the above lists. (M)

在上述列表中忽略以下命令序列 (M)。
\cend
\end{options}
% \cend
%   --ignore-cmds \MacroArgs<cs,cs,..>,  -i            \csep 列表（以上四种）中忽略指定的命令，命令间用逗号分隔。(M)\cend

\begin{options}
--ignore-regex \MacroArgs<regex,..>, -I            \csep 
Ignore all command sequences in the above lists which match the given Perl regular expression(s). (M)

在上述列表中忽略与给定Perl正则表达式匹配的所有命令序列 (M)。
\cend
\end{options}
% --ignore-regex \MacroArgs<regex,..>, -I            \csep 列表（以上四种）中忽略匹配指定的Perl正则的命令，正则间用逗号分隔。 (M)\cend

\begin{options}
--pgf-keys, -k                                     \csep 
Takes commands as \pkg{pgfkeys} and displays their definitions. Keys must use the full path but the common `.\@cmd' prefix is applied.

以\pkg{pgfkeys}命令的形式显示它们的定义。键必须使用完整路径，但应用了常见的 `.\@cmd'前缀。
\cend
\end{options}
% --pgf-keys, -k                                     \csep Takes commands as \pkg{pgfkeys} and displays their definitions. Keys must use the full path but the common `.\@cmd' prefix is applied.\cend

\begin{options}
--pgf-Keys, -K                                     \csep 
Takes commands as \pkg{pgfkeys} and displays their definitions. Keys must use the full path.

以\pkg{pgfkeys}命令的形式显示它们的定义。键必须使用完整路径。
\cend
\end{options}

\begin{options}
--version, -V                                      \csep 
If used alone prints version of this script.
(L) Together with -p or -c prints version of LaTeX package(s) or class, respectively.

如果单独使用，打印此脚本的版本。 (L)与 -p 或 -c 一起使用分别打印LaTeX包或类的版本。
\cend
\end{options}
% --version, -V                                      \csep 单独使用时，展示出本脚本的版本号。
%                                                        如果同 -p 或 -c 选项一起使用，则显示宏包或文类的版本号。\cend

\begin{options}
--edit                                             \csep 
Opens the file holding the macro definition. Uses |--Find| and |--source|.
If the source definition can not be found the definition is printed as normal instead. (L)

打开保存宏定义的文件。使用 |--Find| 和 |--source|。 如果无法找到源定义，则正常打印定义。(L)
\cend
\end{options}

\begin{options}
--editor <editor>                                  \csep 
Can be used to set the used editor. If not used the environment variables |TEXDEF_EDITOR|, |EDITOR| and
|SELECTED_EDITOR| are read in this order. If none of these are set a list of default
editors are tried.  The |<editor>| string can include `|%f|' for the filename, `|%n|' for
the line number and `|%%|' for a literal `|%|'.  If no `|%|' is used `|+%n %f|' is added to
the given command.

可用于设置使用的编辑器。如果未使用，将按照此顺序读取环境变量|TEXDEF_EDITOR|，|EDITOR|和 |SELECTED_EDITOR|。如果这些都未设置，则尝试使用默认编辑器列表。 |<editor>|字符串可以包括`|%f|'表示文件名，`|%n|'表示行号，`|%%|'表示文字`|%|'。如果未使用`|%|'，则给定命令中添加`|+%n %f|'。
\cend
\end{options}
% --editor <editor>                                  \csep 用来设置上个选项所使用的打开文件的编辑器软件。If not used the environment variables |TEXDEF_EDITOR|, |EDITOR| and
% |SELECTED_EDITOR| are read in this order. 如果这些都没有被设置，会尝试使用默认的一些编辑器列表。
% The |<editor>| string can include `|%f|' for the filename, `|%n|' for
% the line number and `|%%|' for a literal `|%|'.  If no `|%|' is used `|+%n %f|' is added to
% the given command.\cend

\begin{options}
--tempdir <directory>                              \csep 
Use given existing directory for temporary files.

使用给定的现有目录作为临时文件目录。
% --tempdir <directory>                              \csep 指定一个现有目录用于存放临时文件.\cend
\cend
\end{options}

\begin{options}
--help, -h                                         \csep Print this help and quit.


打印此帮助并退出。
\cend
\end{options}
% --help, -h                                         \csep 打印此帮助并退出.\cend

\begin{parcolumns}[rulebetween=true,colwidths={1=.52\linewidth}]{2}
\colchunk{\noindent \textbf{Notes:}\\
Long option can be shorten as long the are still unique.  Short options can be combined.
If the option `environment', `before' and `after' are used toegether the
produced code will be inserted in the given order (reversed order for `after').\\
(M) = This option can be given multiple times.\\
(L) = LaTeX only. Requires the packages `filehook' and `currfile'.}
\colchunk{\noindent {\bf 注：}\\
如果长选项仍然是唯一的，则可以缩短长选项。短选项可以合并使用。
如果选项“environment”、“before”和“after”一起使用，则生成的代码将按给定顺序插入（对于“after”则为相反顺序）。\\
(M) = 可以多次提供此选项。\\
(L) = 仅适用于LaTeX。需要“filehook”和“currfile”包。}
\end{parcolumns}

% \noindent \textbf{Notes:}\\
% 长选项会有对应的短选项，只要仍是唯一的。短选项可以组合使用。
%  If the option `environment', `before' and `after' are used toegether the
%  produced code will be inserted in the given order (reversed order for `after').\\
%  (M) = 该选项可以多次给出。\\
%  (L) = 仅针对LaTeX。Requires the packages `filehook' and `currfile'.

\section{Installation\\安装}\label{sec:install}

The latest official release of the script can be obtained from CTAN under \url{http://mirrors.ctan.org/support/texdef/texdef.pl}.
The latest develop version (which can be unstable!) can be obtained from the source code repository under 
\url{https://bitbucket.org/martin_scharrer/texdef/src/tip/texdef.pl}.

该脚本的最新官方发布版本可在CTAN上获取，网址为\url{http://mirrors.ctan.org/support/texdef/texdef.pl}。
最新的开发版本（可能不稳定！）可以在源代码仓库中获取，网址为\url{https://bitbucket.org/martin_scharrer/texdef/src/tip/texdef.pl}。
% 本脚本的最新官方版本在CTAN的\url{http://mirrors.ctan.org/support/texdef/texdef.pl}。
% 最新的开发版本（可能不稳定！）可以从源代码库中获得：
% \url{https://bitbucket.org/martin_scharrer/texdef/src/tip/texdef.pl}.

For installation the script file |texdef.pl| must simply renamed to |texdef| and be copied to a location suitable for executables,
i.e. a directory in the |PATH|, e.g.\ |/usr/bin| or |/usr/local/bin| for Linux/Unix.
The script should be set as \emph{executable}, i.e. |chmod +x texdef.pl| for Linux/Unix.
This is not required for MS Windows.

要安装脚本文件|texdef.pl|，只需将其重命名为|texdef|并复制到适合可执行文件的位置，即在Linux/Unix中的目录|PATH|中，例如|/usr/bin|或|/usr/local/bin|。
应将脚本设置为可执行，即对于Linux / Unix，应执行|chmod + x texdef.pl|。MS Windows不需要此操作。

% 这个脚本（|texdef.pl|）需要简单的重命名为|texdef|并被复制(或软链)到适合可执行文件的位置。
% 例如，|PATH|中的某个目录, 例如在 Linux/Unix 上，复制到 |/usr/bin| 或 |/usr/local/bin|.
% 脚本需要设置为可执行的（\emph{executable}）, 例如，在Linux/Unix上使用|chmod +x texdef.pl|设置。
% 对于微软的Windows系统不需要做可执行设置.。

This script can show the definitions of commands with different formats of TeX
(|tex|, |etex|, |latex|, |pdftex|, |pdfetex|, |pdflatex|, |xetex|, |xelatex|, |context|, \ldots).
The format can be given using an command line option or over the \emph{script name},
i.e.\ if the script is called |texdef| it will use |tex|, but called |latexdef|
it will use |latex| and so on.
The script can be simply copied several times, but creating \emph{symbolic links}
to the real script is enough on operation systems/file systems which support
this.
At least the two variations |texdef| and |latexdef| should be installed.

此脚本可以显示具有不同格式的TeX命令（|tex|、|etex|、|latex|、|pdftex|、|pdfetex|、|pdflatex|、|xetex|、|xelatex|、|context|等）的定义。
格式可以使用命令行选项或通过\emph{脚本名称}给出，即如果脚本名为|texdef|，它将使用|tex|，但是称为|latexdef|，它将使用|latex|等。
可以简单地复制该脚本多次，但是在支持此操作系统/文件系统上创建\emph{符号链接}到真实脚本即可。
至少应安装两种变体|texdef|和|latexdef|。

% 这个脚本可以显示不同格式的TeX命令的定义
% (|tex|, |etex|, |latex|, |pdftex|, |pdfetex|, |pdflatex|, |xetex|, |xelatex|, |context|, \ldots).
% 可以使用命令行选项或\emph{script name}指定使用的TeX格式,
% 例如，如果脚本名为 |texdef| 且不指定格式选项，则格式为 |tex|, 但如果名为 |latexdef| 且不指定格式选项，则格式为
%  |latex| 等等。
% 可惜把文件复制几份不同的名字, 但如果系统支持，可以只创建不同名称的软链（\emph{symbolic links}）。
% 至少，|texdef| 和 |latexdef|这两种变体默认就被安装了。


\subsection*{Requirements\\要求}

The |texdef| program is a Perl script which needs a Perl interpreter to work.
Informations about installing Perl can be found at \url{http://www.perl.org/get.html}.

|texdef|程序是一个Perl脚本，需要Perl解释器才能工作。
有关安装Perl的信息可以在\url{http://www.perl.org/get.html}找到。

The script calls a TeX compiler (|tex|, |latex|, \ldots) to display the definition of commands/macros.
Therefore \LaTeX\ must also be installed.
Informations about installing \LaTeX\ can be found at \url{http://www.latex-project.org/ftp.html}.

该脚本调用TeX编译器（|tex|、|latex|等）来显示命令/宏的定义。
因此，必须还安装\LaTeX。有关安装\LaTeX 的信息可以在\url{http://www.latex-project.org/ftp.html}找到。


\subsection*{Quick Install Nodes for Linux/Unix\\Linux/Unix快速安装说明}

\begin{verbatim}
    cp texdef.pl /usr/local/bin/
    cd /usr/local/bin
    ln -s texdef.pl texdef
    ln -s texdef.pl latexdef
    ln -s texdef.pl etexdef
    ln -s texdef.pl luatexdef
    ln -s texdef.pl lualatexdef
    ln -s texdef.pl pdftexdef
    ln -s texdef.pl pdflatexdef
    ln -s texdef.pl xetexdef
    ln -s texdef.pl xelatexdef
    ln -s texdef.pl 'some other TeX format of your choice'
\end{verbatim}

\noindent or use the Makefile (defaults to |/usr/local/bin|)

\noindent 或使用 Makefile (默认为 |/usr/local/bin|)

\begin{verbatim}
    make install INSTALLDIR=/your/path
\end{verbatim}

\section{Examples\\范例}
% \section{}

Show the definition of \Macro\chapter with different classes (\cls{article} (default), \cls{book} and \cls{scrbook}):

展示 \Macro\chapter 在不同的文类中的定义 (\cls{article} (默认), \cls{book} 和 \cls{scrbook}):

\begin{verbatim}
latexdef chapter
latexdef -c book chapter
latexdef -c scrbook chapter
\end{verbatim}

Show value of \Macro\textwidth with different class options:

展示同一文类 \cls{book} 使用不同的参数,\Macro\textwidth 值的不同:

\begin{verbatim}
latexdef -c [a4paper]{book} -v paperwidth
latexdef -c [letter]{book}  -v paperwidth
\end{verbatim}

Show definition of TikZ's \Macro\draw outside and inside a \env{tikzpicture} environment:

展示 TikZ 的 \Macro\draw 命令，在环境 \env{tikzpicture} 外部和内部定义的不同:

\begin{verbatim}
latexdef -p tikz draw
latexdef -p tikz --env tikzpicture draw
\end{verbatim}

Show definition of TikZ's \Macro\draw inside a node, inside a \cls{beamer} frame in \opt{handout} mode:

在 \cls{beamer} 帧中以 \opt{handout} 模式显示 TikZ 的 \Macro\draw 在节点内的定义：

\begin{verbatim}
latexdef -c [handout]beamer -p tikz --env frame \
    --env tikzpicture -b '\node {' -a `};' draw
\end{verbatim}

List all user level command sequences (macros) defined by the \pkg{xspace} LaTeX package:

列出 LaTeX 包 \pkg{xspace} 定义的所有用户级命令序列（宏）:

\begin{verbatim}
latexdef -l -p xspace
\end{verbatim}


\section{Changelog\\更改日志}

\subsection*{v1.9 from 2020/09/27}
\begin{itemize}
 \item Added support for develop versions of the formats, e.g.\ "latex-dev".
\\添加了对开发版本的格式支持，例如 “latex-dev”。
\end{itemize}

\subsection*{v1.8c from 2010/01/15}
\begin{itemize}
 \item Changed path printing format to native format of the used OS 
      (e.g. under Windows file paths now habe `\textbackslash' instead of `/')
\\将路径打印格式更改为所用操作系统的本机格式（例如，在 Windows 下文件路径现在具有 `\textbackslash' 而不是 `/'）
\end{itemize}

\subsection*{v1.8a from 2018/03/28}
\begin{itemize}
 \item Further fixes of braces in regexs to avoid ``Unescaped left brace in regex is deprecated'' warnings or errors.
\\进一步修复正则表达式中的大括号，以避免出现 ``在正则表达式中未转义的左大括号已被弃用。'' 警告或错误。
\end{itemize}

\subsection*{v1.8 from 2018/03/25}
\begin{itemize}
 \item Added ``dvitex'' and ``dvilatex'' as formats. These will set DVI mode on "tex" or "latex".
 \\添加了 “dvitex” 和 “dvilatex” 作为格式。这些将在 “tex” 或 “latex” 上设置 DVI 模式。
 \item Escaped further braces in regexs to avoid warnings or errors.
 \\在正则表达式中进一步转义大括号，以避免警告或错误。
 \item Added option ``--texoptions'' to allow the passing of compiler options for special cases.
 \\添加了选项 “–texoptions”，以允许传递编译器选项以应对特殊情况。
\end{itemize}

\subsection*{v1.7c from 2017/12/09}
\begin{itemize}
 \item Fixed 'Unescaped left brace in regex is deprecated' warning.
   Thanks goes to Paulo Cereda <cereda.paulo@gmail.com> for providing the patch.
\\修复了 ``Unescaped left brace in regex is deprecated'' 警告。 感谢 Paulo Cereda cereda.paulo@gmail.com 提供补丁。
\end{itemize}

\subsection*{v1.7b from 2012/05/15}
\begin{itemize}
 \item Added support for \Macro\chardef, \Macro\countdef, \Macro\dimendef, \Macro\mathchardef, \Macro\myskip, \Macro\skipdef and \Macro\toksdef.
 \\添加了对 \Macro\chardef、\Macro\countdef、\Macro\dimendef、\Macro\mathchardef、\Macro\myskip、\Macro\skipdef 和 \Macro\toksdef 的支持。
 \item Added support for \Macro\newbox, \Macro\newcount, \Macro\newdimen, \Macro\newif, \Macro\newinsert, \Macro\newread, \Macro\newskip, \Macro\newtoks, \Macro\newwrite.
 \\添加了对 \Macro\newbox, \Macro\newcount, \Macro\newdimen, \Macro\newif, \Macro\newinsert, \Macro\newread, \Macro\newskip, \Macro\newtoks, \Macro\newwrite 的支持。
 \item Added support for \Macro\newif and \Macro\newcount.
 \\添加了对 \Macro\newif and \Macro\newcount 的支持。
 \item Changed internal processing order to put more frequently used elements first.
 \\更改了内部处理顺序，将更常用的元素放在前面。
\end{itemize}

\subsection*{v1.7a from 2012/05/08}
\begin{itemize}
 \item Fix for currfile v0.6.
\end{itemize}

\subsection*{v1.7 from 2012/05/07}
\begin{itemize}
 \item Changed "--help" to return status code 0.
 \item Changed Windows default editor to texworks. Fixed If-statement.
 \item Fixed bug which reported name of included subpackages.
 \item Added option "--edit".
 \item Added "--editor" option and better editor handling.
 \item Added variable substitution for editor.
 \item Added support for "TEXDEF\_EDITOR" variable. Added Mac "open" command.
 \item Fixed for behaviour when -s is used (correct name in message; do not follow protected macros etc.)
\end{itemize}

\subsection*{v1.6 from 2012/05/02}
\begin{itemize}
 \item Changed implementation of -E option to work better with new environment source code.
 \item Added code to detect environment source definitions.
 \item Added -E option.
 \item Changed "flavour" to "format".
 \item Added support for \Macro\let.
 \item Added fallback for when the source code can not be found. Added support for -F with "latex.ltx".
\end{itemize}

\subsection*{v1.5 from 2012/04/29}
\begin{itemize}
 \item Added experimental --source option to show source code of the definitions.
 \item Script now works correctly under MS Windows.
\end{itemize}

\subsection*{v1.4 from 2011/07/28}
\begin{itemize}
 \item Added -F option to display file path.
 \item Added basic support for pdfkeys using -k and -K options.
 \item Added -V option to print version numbers of LaTeX packages or classes.
 \item Added `--tempdir' option to specify the location of the temporary files. Useful for debugging.
\end{itemize}

\end{document}















% % \tableofcontents





% \end{document}

