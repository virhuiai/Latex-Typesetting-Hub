

\section{Usage\hfill 使用方法}
\label{sec:usage}

\columnratio{0.55}
\begin{paracol}{2}
\subsection{Loading Style Files}
\label{sec:usage-load}
\switchcolumn
\subsection{加载样式文件}

\switchcolumn[0]*
Both style files are usable to both \LaTeXe{} and \LaTeX-2.09
users with their standard package loading declaration.  If you use
\LaTeXe{} and wish to load, for example, \textsf{newvbtm}, simply do the
following.

\SpecialUsageIndex{\usepackage}
\begin{iverbatim}
\usepackage{newvbtm}
\end{iverbatim}
\switchcolumn
这两个样式文件都适用于\LaTeXe{}和\LaTeX-2.09用户，并且可以使用它们的标准包加载声明。如果你使用\LaTeXe{}并希望加载，例如\textsf{newvbtm}，只需执行以下操作。
\begin{minted}{latex}
\usepackage{newvbtm}
\end{minted}

\switchcolumn[0]*
If you still love \LaTeX-2.09, the following is what you have to do.
\begin{quote}
\SpecialUsageIndex{\documentstyle}
|\documentstyle[..,newvbtm,...]|\Meta{main-style}
\end{quote}
\switchcolumn
如果你仍然在使用\LaTeX-2.09，你需要执行以下操作。
\begin{quote}
|\documentstyle[..,newvbtm,...]|\Meta{main-style}
\end{quote}

\switchcolumn[0]*
Note that loading \textsf{varvbtm} automatically loads \textsf{newvbtm}
too.  Thus you may not load both though doing so is safe.
\switchcolumn
请注意，加载\textsf{varvbtm}会自动加载\textsf{newvbtm}。因此，尽管可以安全地这样做，但不要同时加载两者。

\switchcolumn[0]*
\subsection{\textsf{newvbtm}: Define \texttt{verbatim}-like Environments}
\label{sec:usage-new}
\switchcolumn
\subsection{\textsf{newvbtm}：定义类似\texttt{verbatim}的环境}

\switchcolumn[0]*

\SpecialOptIndex{newvbtm}{style file}
\DescribeMacro{\newverbatim}
The command;
\begin{quote}
|\newverbatim|\Meta{env}\opt{n-args}
	\Meta{beg-def-outer}\Meta{beg-def-inner}|%|\\
\phantom{\texttt{+newverbatim}\Meta{env}\opt{n-args}}
	\Meta{end-def-inner}\Meta{end-def-outer}
\end{quote}
\switchcolumn
命令
\begin{quote}
|\newverbatim|\Meta{env}\opt{n-args}
    \Meta{beg-def-outer}\Meta{beg-def-inner}|%|\\
\phantom{\texttt{+newverbatim}\Meta{env}\opt{n-args}}
    \Meta{end-def-inner}\Meta{end-def-outer}
\end{quote}

\switchcolumn[0]*
defines an environment named \meta{env} with \meta{n-args} arguments
(optionally), and acting conceptually as follows:
\begin{quote}
\meta{beg-def-outer}|\begin{verbatim}|\meta{beg-def-inner}\\
\meta{body-of-environment}\\
\meta{end-def-inner}|\end{verbatim}|\meta{end-def-outer}
\end{quote}
\switchcolumn
定义了一个名为\meta{env}的环境，有\meta{n-args}个参数（可选），并且在概念上的作用如下:
\begin{quote}
\meta{beg-def-outer}|\begin{verbatim}|\meta{beg-def-inner}\\
\meta{body-of-environment}\\
\meta{end-def-inner}|\end{verbatim}|\meta{end-def-outer}
\end{quote}

\switchcolumn[0]*
Thus to have indented-footnotesize-|verbatim| named, say |indfnsverbatim|, 
you may simply do the following.
\begin{iverbatim}
\newverbatim{indfnsverbatim}{\begin{itemize}\item[]\footnotesize}{}{}%
                           {\end{itemize}}
\end{iverbatim}
\switchcolumn
因此，要定义一个名为\texttt{indfnsverbatim}的缩进脚注大小的\texttt{verbatim}环境，只需执行以下操作。
\begin{iverbatim}
\newverbatim{indfnsverbatim}{\begin{itemize}\item[]\footnotesize}{}{}%
                        {\end{itemize}}
\end{iverbatim}

\switchcolumn[0]*
Since |\newverbatim| defines not only \meta{env} but also its starred 
counterpart \meta{env}\texttt{*} that acts like |verbatim*|, the
definition above also defines |indfnsverbatim*| environment.
\switchcolumn
由于|\newverbatim|不仅定义了\meta{env}，还定义了和|verbatim*|类似的星号版本\meta{env}\texttt{*}，上述定义也定义了|indfnsverbatim*|环境。

\switchcolumn[0]*
If you use \LaTeXe{}, you may make \meta{env} have an optional argument
whose default value is \meta{default} by;

\begin{itemize}\item[]
|\newverbatim|\Meta{env}\opt{n-args}\opt{default}
	\Meta{beg-def-outer}\Meta{beg-def-inner}|%|\\
\phantom{\texttt{+newverbatim}\Meta{env}\opt{n-args}\opt{default}}
	\Meta{end-def-inner}\Meta{end-def-outer}
\end{itemize}

\switchcolumn
如果你使用\LaTeXe{}，你可以通过以下方式使\meta{env}具有可选参数，其默认值为\meta{default}。
\begin{itemize}\item[]
    |\newverbatim|\Meta{env}\opt{n-args}\opt{default}
        \Meta{beg-def-outer}\Meta{beg-def-inner}|%|\\
    \phantom{\texttt{+newverbatim}\Meta{env}\opt{n-args}\opt{default}}
        \Meta{end-def-inner}\Meta{end-def-outer}
    \end{itemize}

\switchcolumn[0]*
For example, our |indfnsverbatim| environment can have an optional
argument to specify a font size other than |\footnotesize| by the
following definition.

\begin{iverbatim}
\newverbatim{indfnsverbatim}[1][\footnotesize]%
       {\begin{itemize}\item[]#1}{}{}{\end{itemize}}
\end{iverbatim}
\switchcolumn
例如，我们的|indfnsverbatim|环境可以通过以下定义具有可选参数，以指定除|\footnotesize|之外的字体大小。
\begin{iverbatim}
    \newverbatim{indfnsverbatim}[1][\footnotesize]%
           {\begin{itemize}\item[]#1}{}{}{\end{itemize}}
    \end{iverbatim}

\switchcolumn[0]*
The argument \meta{beg-def-inner} is for \TeX{}perts who wish to do
something overriding what \LaTeX's |\verbatim| does.  Even if you don't
have much confidence in your \TeX{}pertise, however, you can do some
useful thing with this argument.  For example, the following is obtained
by itself.

\begin{itemize}\item[]
\newverbatim{slverbatim}{\ttfamily}{\slshape}{}{}
\begin{slverbatim}
\newverbatim{slverbatim}{}{\slshape}{}{}
\end{slverbatim}
\end{itemize}

\switchcolumn
\meta{beg-def-inner}参数是给希望覆盖\LaTeX 的|\verbatim|命令的\TeX 专家使用的。然而，即使你对自己的\TeX 专业知识没有太多信心，你也可以使用这个参数做一些有用的事情。例如，以下内容是通过以下命令得到的。
\begin{itemize}\item[]
\newverbatim{slverbatim}{\ttfamily}{\slshape}{}{}
\begin{slverbatim}
\newverbatim{slverbatim}{}{\slshape}{}{}
\end{slverbatim}
\end{itemize}

\switchcolumn[0]*
Also you will find a few commands for this argument in
\S\ref{sec:usage-var}.
\switchcolumn 此外，你还可以在第\ref{sec:usage-var}节中找到一些用于此参数的命令。

\switchcolumn[0]*
The needs of \meta{end-def-inner} is much more limited.  One example is to
check if |\end{verbatim}| is at the beginning of a line.  This examination
is done by;

\begin{quote}
|\newverbatim{myverbatim}{...}{...}%|\\
|        {\ifvmode |\meta{at-bol}| \else |\meta{not-at-bol}| \fi}{...}|
\end{quote}
\switchcolumn
\meta{end-def-inner}参数的需求要少得多。一个例子是检查|\end{verbatim}|是否位于一行的开头。可以通过以下方式进行检查:
\begin{quote}
|\newverbatim{myverbatim}{...}{...}%|\\
|        {\ifvmode |\meta{at-bol}| \else |\meta{not-at-bol}| \fi}{...}|
\end{quote}

\DescribeMacro{\renewverbatim}
You may redefine your own |verbatim|-like environment, or even |verbatim|
itself, by |\renewverbatim| whose arguments are same as those of
|\newenvironment|.



\subsection{\textsf{varvbtm}: To Make Variants of \texttt{verbatim}}
\label{sec:usage-var}

\subsubsection{Tab Emulation}
\label{sec:usage-var-tab}

\DescribeMacro{\newtabverbatim}
\DescribeMacro{\renewtabverbatim}
The commands |\(re)newtabverbatim| is to (re)define a |verbatim|-like
environment in which |<TAB>| acts as a tab.  The syntax of the command is
same as that of |\(re)newverbatim|, and its operation is equivalent to;

\begin{itemize}\item[]
|\(re)newverbatim|\Meta{env}\opt{n-args}\opt{default}\\
\mbox{}\qquad\qquad\Meta{beg-def-outer}|%|\\
\mbox{}\qquad\qquad|{|\meta{beg-def-inner}\meta{beg-def-for-tab}|}%|\\
\mbox{}\qquad\qquad|{|\meta{end-def-for-tab}\meta{end-def-inner}|}%|\\
\mbox{}\qquad\qquad\Meta{end-def-outer}
\end{itemize}

For example;

\begin{iverbatim}
\newtabverbatim{tabverbatim}{}{}{}{}
\end{iverbatim}

defines |tabverbatim| environment just to make |<TAB>| act as a tab.
Another example to have tab emulation version of |indfnsverbatim| with
optional argument, say |indfnstabverbatim| is;

\begin{iverbatim}
\newtabverbatim{indfnstabverbatim}[1][\footnotesize]%
       {\begin{itemize}\item[]#1}{}{}{\end{itemize}}
\end{iverbatim}

Note that in the starred version, e.g. |tabverbatim*|, a |<TAB>| is
translated into a sequence of \verb*! !.

\DescribeOpt{VVBtabwidth}{counter}
The distance between tab stops is the width of eight characters of the
font used in the environment, i.e. typewriter font usually.  If you want
to change this default value, set the counter |VVBtabwidth| to the number
of characters of the distance.

\DescribeMacro{\VVBbegintab}
\DescribeMacro{\VVBendtab}
The magical stuff for \meta{beg-def-for-tab} and \meta{end-def-for-tab}
is also accessible through commands |\VVBbegintab| and |\VVBendtab| for
\TeX{}perts who wish to do something with |\(re)newverbatim| rather than
|\(re)newtabverbatim|.



\subsubsection{Form Feed Character}
\label{sec:usage-var-ff}

\DescribeMacro{\VVBprintFF}
\DescribeMacro{\VVBprintFFas}
You might have found that |<FF>| (or |^L|) in |verbatim| caused a
mysterious error;

\begin{iverbatim}
! Forbidden control sequence found while scanning use of \@xverbatim.
\end{iverbatim}

This is because |<FF>| is not {\em verbatimized}.  Giving the command
|\VVBprintFF| to $\langle$\textit{beg-def-}\allowbreak
\textit{outer}$\rangle$ (or \meta{beg-def-inner}) of |\newverbatim| does
it for you and makes |<FF>| printed as |^L| in default.  You may change
this default print image by;

\begin{quote}
|\VVBprintFFas|\Meta{str}
\end{quote}
where \meta{str} is a sequence of any printable characters other than |{|
and |}|.  Note that this command is very {\em fragile} as |\verb| and
|\index|, and thus should not be used in an argument of other commands
including |\(re)newverbatim|.

\DescribeMacro{\VVBbreakatFF}
\DescribeMacro{\VVBbreakatFFonly}
The other way to make |<FF>| acceptable is to give it a useful and natural
job, i.e.\ page breaking.  This is done by giving |\VVBbreakatFF| to
\meta{beg-def-inner} (not {\em outer}).  Its more powerful relative,
|\VVBbreakatFFonly|, is also available to allow page breaking at |<FF>|
only.  Unfortunately, these two commands are incompatible with
|\(re)newtabverbatim| and thus you have to use |\(re)newverbatim| with
|\VVBbegintab| {\em followed by} them.



\subsubsection{Non-Verbatim Stuff in \texttt{verbatim}-like Environment}
\label{sec:usage-var-nonverb}

\DescribeMacro{\VVBnonverb}
You might have once wished to insert a few non-verbatim stuff, for example 
math stuff.  The command, to be given to \meta{beg-def-outer};

\begin{quote}
\newverbatim{verbatimwithnv}{\VVBnonverb{\!}\ttfamily}{}{}{}
\begin{verbatimwithnv}
\VVBnonverb{\!$\langle\mbox{\textit{char}}\rangle$!}
\end{verbatimwithnv}
\end{quote}

makes it possible.  For example, the author just did the following to
produce the result shown above.

\begin{iverbatim}
\newverbatim{verbatimwithnv}{\VVBnonverb{\!}}{}{}{}
\begin{verbatimwithnv}
\VVBnonverb{\!$\langle\mbox{\textit{char}}\rangle$!}
\end{verbatimwithnv}
\end{iverbatim}

As shown in the example above, the non-verbatim staff is surrounded by
a pair of \meta{char}, the letter `|!|' in this case.  Note that
\meta{char} has to be preceded by `|\|' when it is given as the argument of
|\VVBnonbverb|, and \meta{char} should not be `|\|'.  Also note that the
default font for the non-verbatim part % is not that for verbatim part,
but the font used outside the environment

\footnote{Strictly speaking, the font used when \cs{VVBnonverb} is
invoked.  Thus if \cs{VVBnonverb} is preceded by a font changing command,
the fond chosen by the command will be used.}.

\DescribeMacro{\VVBnonverbmath}
As mentioned above, math stuffs will be most desirable to be
non-verbatim.  Thus the macro;

\begin{quote}
\newverbatim{verbatimwithnv}{\VVBnonverbmath\ttfamily}{}{}{}
\begin{verbatimwithnv}
\VVBnonverbmath[\$\langle\mbox{\textit{char}}\rangle$]
\end{verbatimwithnv}
\end{quote}
gives you a shorthand to typeset the stuff surrounded by a pair of
\meta{char} in math mode.  Since the default of \meta{char} is |$| as
expected, the example above may be;

\begin{iverbatim}
\newverbatim{verbatimwithnv}{\VVBnonverbmath}{}{}{}
\begin{verbatimwithnv}
\VVBnonverb{\$\langle\mbox{\textit{char}}\rangle$}
\end{verbatimwithnv}
\end{iverbatim}



\subsubsection{Verbatim Input}
\label{sec:usage-var-input}

The last thing \textsf{varvbtm} gives you is;

\begin{itemize}\item[]
|\(re)newverbatiminput|\Meta{command}\opt{n-args}\opt{default}|%|\\
\phantom{\texttt{+(re)newverbatiminput}}
	\Meta{beg-def-outer}\Meta{beg-def-inner}|%|\\
\phantom{\texttt{+(re)newverbatiminput}}
	\Meta{end-def-inner}\Meta{end-def-outer}
\end{itemize}

to define a \meta{command} to |\input| a file.  Since this define a
\meta{command} instead of an environment, \meta{command} should have `|\|'
as its prefix.  The \meta{command} has at least one mandatory argument,
\meta{file} to be input, which can be referred as first argument if
\opt{default} is not supplied, or as second otherwise.  Note that,
however, if the \meta{command} does not have any other arguments, you can
omit \opt{n-arg}.

For example;

\begin{iverbatim}
\newverbatiminput{\vinput}{}{}{}{}
\end{iverbatim}

defines |\vinput|\Meta{file} (and |\vinput*|) that |\input| a \meta{file}
as if the \meta{file} has |\begin|\slash|\end{verbatim}| at its first and
last lines.  A little bit more complicated example;

\begin{iverbatim}
\newverbatiminput{\indfnsvinput}[2][\footnotesize]%
       {\begin{itemize}\item[]#1}{}{}{\end{itemize}}
\end{iverbatim}

defines a indented-footnotesize-by-default version of |\vinput|.



\IndexPrologue{\newpage\section*{Index}
Underlined number refers to the page where the specification of
corresponding entry is described.}
\StopEventually{
\section*{Acknowledgments}

The author thanks to Noboru Matsuda and Carlos Puchol whose posts to
news groups triggered writing very first version of macros in
\textsf{newvbtm} and \textsf{varvbtm}.

For the implementation of these style files, the author refers the base
implementations of the macros for \texttt{verbatim} environment.
These macros are written by Leslie Lamport as a part of
\LaTeX-2.09 and \LaTeXe{} (1997/12/01) to which Johannes Braams and other
authors also contributed.

\end{paracol}

\PrintIndex}



\newpage
