

\section{Usage\hfill 使用方法}
\label{sec:usage}

% \input{newvbtm_Usage_加载样式文件.tex}
% \input{newvbtm_Usage_模拟制表符.tex}

%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%

\columnratio{0.55}
\begin{paracol}{2}

\subsubsection{Form Feed Character}
\label{sec:usage-var-ff}

\DescribeMacro{\VVBprintFF}
\DescribeMacro{\VVBprintFFas}
You might have found that |<FF>| (or |^L|) in |verbatim| caused a
mysterious error;

\begin{iverbatim}
! Forbidden control sequence found while scanning use of \@xverbatim.
\end{iverbatim}

This is because |<FF>| is not {\em verbatimized}.  Giving the command
|\VVBprintFF| to $\langle$\textit{beg-def-}\allowbreak
\textit{outer}$\rangle$ (or \meta{beg-def-inner}) of |\newverbatim| does
it for you and makes |<FF>| printed as |^L| in default.  You may change
this default print image by;

\begin{quote}
|\VVBprintFFas|\Meta{str}
\end{quote}
where \meta{str} is a sequence of any printable characters other than |{|
and |}|.  Note that this command is very {\em fragile} as |\verb| and
|\index|, and thus should not be used in an argument of other commands
including |\(re)newverbatim|.

\DescribeMacro{\VVBbreakatFF}
\DescribeMacro{\VVBbreakatFFonly}
The other way to make |<FF>| acceptable is to give it a useful and natural
job, i.e.\ page breaking.  This is done by giving |\VVBbreakatFF| to
\meta{beg-def-inner} (not {\em outer}).  Its more powerful relative,
|\VVBbreakatFFonly|, is also available to allow page breaking at |<FF>|
only.  Unfortunately, these two commands are incompatible with
|\(re)newtabverbatim| and thus you have to use |\(re)newverbatim| with
|\VVBbegintab| {\em followed by} them.



\subsubsection{Non-Verbatim Stuff in \texttt{verbatim}-like Environment}
\label{sec:usage-var-nonverb}

\DescribeMacro{\VVBnonverb}
You might have once wished to insert a few non-verbatim stuff, for example 
math stuff.  The command, to be given to \meta{beg-def-outer};

\begin{quote}
\newverbatim{verbatimwithnv}{\VVBnonverb{\!}\ttfamily}{}{}{}
\begin{verbatimwithnv}
\VVBnonverb{\!$\langle\mbox{\textit{char}}\rangle$!}
\end{verbatimwithnv}
\end{quote}

makes it possible.  For example, the author just did the following to
produce the result shown above.

\begin{iverbatim}
\newverbatim{verbatimwithnv}{\VVBnonverb{\!}}{}{}{}
\begin{verbatimwithnv}
\VVBnonverb{\!$\langle\mbox{\textit{char}}\rangle$!}
\end{verbatimwithnv}
\end{iverbatim}

As shown in the example above, the non-verbatim staff is surrounded by
a pair of \meta{char}, the letter `|!|' in this case.  Note that
\meta{char} has to be preceded by `|\|' when it is given as the argument of
|\VVBnonbverb|, and \meta{char} should not be `|\|'.  Also note that the
default font for the non-verbatim part % is not that for verbatim part,
but the font used outside the environment

\footnote{Strictly speaking, the font used when \cs{VVBnonverb} is
invoked.  Thus if \cs{VVBnonverb} is preceded by a font changing command,
the fond chosen by the command will be used.}.

\DescribeMacro{\VVBnonverbmath}
As mentioned above, math stuffs will be most desirable to be
non-verbatim.  Thus the macro;

\begin{quote}
\newverbatim{verbatimwithnv}{\VVBnonverbmath\ttfamily}{}{}{}
\begin{verbatimwithnv}
\VVBnonverbmath[\$\langle\mbox{\textit{char}}\rangle$]
\end{verbatimwithnv}
\end{quote}
gives you a shorthand to typeset the stuff surrounded by a pair of
\meta{char} in math mode.  Since the default of \meta{char} is |$| as
expected, the example above may be;

\begin{iverbatim}
\newverbatim{verbatimwithnv}{\VVBnonverbmath}{}{}{}
\begin{verbatimwithnv}
\VVBnonverb{\$\langle\mbox{\textit{char}}\rangle$}
\end{verbatimwithnv}
\end{iverbatim}



\subsubsection{Verbatim Input}
\label{sec:usage-var-input}

The last thing \textsf{varvbtm} gives you is;

\begin{itemize}\item[]
|\(re)newverbatiminput|\Meta{command}\opt{n-args}\opt{default}|%|\\
\phantom{\texttt{+(re)newverbatiminput}}
	\Meta{beg-def-outer}\Meta{beg-def-inner}|%|\\
\phantom{\texttt{+(re)newverbatiminput}}
	\Meta{end-def-inner}\Meta{end-def-outer}
\end{itemize}

to define a \meta{command} to |\input| a file.  Since this define a
\meta{command} instead of an environment, \meta{command} should have `|\|'
as its prefix.  The \meta{command} has at least one mandatory argument,
\meta{file} to be input, which can be referred as first argument if
\opt{default} is not supplied, or as second otherwise.  Note that,
however, if the \meta{command} does not have any other arguments, you can
omit \opt{n-arg}.

For example;

\begin{iverbatim}
\newverbatiminput{\vinput}{}{}{}{}
\end{iverbatim}

defines |\vinput|\Meta{file} (and |\vinput*|) that |\input| a \meta{file}
as if the \meta{file} has |\begin|\slash|\end{verbatim}| at its first and
last lines.  A little bit more complicated example;

\begin{iverbatim}
\newverbatiminput{\indfnsvinput}[2][\footnotesize]%
       {\begin{itemize}\item[]#1}{}{}{\end{itemize}}
\end{iverbatim}

defines a indented-footnotesize-by-default version of |\vinput|.



\IndexPrologue{\newpage\section*{Index}
Underlined number refers to the page where the specification of
corresponding entry is described.}
\StopEventually{
\section*{Acknowledgments}

The author thanks to Noboru Matsuda and Carlos Puchol whose posts to
news groups triggered writing very first version of macros in
\textsf{newvbtm} and \textsf{varvbtm}.

For the implementation of these style files, the author refers the base
implementations of the macros for \texttt{verbatim} environment.
These macros are written by Leslie Lamport as a part of
\LaTeX-2.09 and \LaTeXe{} (1997/12/01) to which Johannes Braams and other
authors also contributed.

\end{paracol}

\PrintIndex}



\newpage
