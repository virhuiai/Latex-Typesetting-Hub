 
 \subsection{用于列和间隔宽度的命令\hfill Commands for Column and Gap Width}
 \label{sec:ref-colwidth}
 
 \begin{description}
 \item[\Midx{\!\columnratio!}\Arg{$r_0,r_1,\cdots,r_k$}
                              {|[|$r'_0,r'_1,\cdots,r'_{k'}$|]|}]\mbox{}\par
 
 The command defines the width of each column by the fraction $r_i$ to
 specify the portion which $i$-th ($i=0$ for the leftmost) column
 occupies.  More specifically, the width $\Midx{\w}_i$ of the $i$-th column
 is defined as follows, where $W$ is \!\textwidth!, $S$ is \!\columnsep!,
 and $n$ is the number of columns given to \beginparacol.

该命令通过分数$r_i$来定义每列的宽度，
以指定第$i$列（$i=0$表示最左边的列）所占的比例。
具体而言，第$i$列的宽度$\Midx{\w}_i$定义如下，
其中$W$是 \!\textwidth!，
$S$是 \!\columnsep!，
$n$是传递给 \beginparacol 的列数。
 \begin{eqnarray*}
 W'&=&W-(n-1)S\\
 w_i&=&\cases{
   r_iW'
     \vrule height1.5\ht\strutbox depth1.5\dp\strutbox width0pt&$i\leq k$\cr
   \displaystyle{(1-\sum_{j=0}^k r_j)W'\over n-(k+1)}&$i>k$}
 \end{eqnarray*}
 
 For a \env{paracol} environment with \parapag{}ing, $n$ is replaced with
 $n_l$ for the columns in left \parapag{}es, while $n$ and $w_i$ are
 replaced with $n_r$ and $w_{n_r+i}$ for those in right \parapag{}es.
 Moreover, if the optional argument having $r'_0,r'_1,\cdots,r'_{k'}$ is
 provided, $w_{n_r+i}$ for a column in right \parapag{}es is determined
 by $r'_i$ and $k'$ instead of $r_i$ and $k$.

 对于具有\parapag{}分页的\env{paracol}环境，对于左侧\parapag{}的列，将$n$替换为$n_l$，而对于右侧\parapag{}的列，将$n$和$w_i$替换为$n_r$和$w_{n_r+i}$。此外，如果提供了具有$r'0,r'1,\cdots,r'{k'}$的可选参数，则右侧\parapag{}的列中的$w{n_r+i}$由$r'_i$和$k'$确定，而不是由$r_i$和$k$确定。
 \begin{itemize}
 \item
 The equations above imply that $k<n-1$, $r_i>0$ and $\sum_{j=0}^k
 r_j<1$.  If $k\geq n-1$, $k$ is assumed to be $n-2$ and all $r_i$ such
 that $i\geq n-1$ are ignored.  If $r_i$ or its sum does not satisfy the
 conditions, you will have an ugly result with ``Overfull'' messages.
 
 上述方程表明$k<n-1$，$r_i>0$且$\sum_{j=0}^k r_j<1$。如果$k\geq n-1$，则假设$k$为$n-2$，并忽略所有满足$i\geq n-1$的$r_i$。如果$r_i$或其总和不满足条件，你将得到一个带有“Overfull”消息的不美观的结果。
 \item
 The argument $r_0,r_1,\cdots,r_k$ can be empty to mean $k=-1$ to let all
 column widths be $W'/n$ as default.

 参数$r_0,r_1,\cdots,r_k$可以为空，表示$k=-1$，使得所有列宽默认为$W'/n$。
 \item
 The setting of column width by the command takes effect in the |paracol|
 environments following the command\footnote{
 
 If the command is in a \texttt{paracol} environment, the command does not
 affect the column widths of the environment but does the next ones, though
 such usage is very unusual.}.

 该命令设置的列宽度在命令后的 |paracol| 环境中生效\footnote{如果该命令在 \texttt{paracol} 环境中，该命令不会影响环境的列宽度，而是影响后续的列宽度，尽管这种用法非常不常见。}。

 
 Therefore, though placing the command in the preamble is the most natural
 way\footnote{
 
 Or second most to not using it at all, of course.},
 

 因此，将该命令放在导言区是最自然的方式\footnote{
 
 当然，第二自然的方式是不使用它。}。

 you may place this command between two |paracol| environments to change
 the column layout for the second one even when they appear in a page as
 shown in Section~\ref{sec:man-close}.
 
 在两个|paracol|环境之间放置此命令，即可更改第二个环境的列布局，即使它们在页面中出现，如第~\ref{sec:man-close}节所示。

 \item
 \changes{v1.2-5}{2013/05/11}
 	{Modify the description about \cs{linewidth} reflecting the fact
	 that \string\texttt{paracol} may be included in a
	 \string\texttt{list}-like environment.}
 
 In the $i$-th column, \!\columnwidth! has $w_i$ and, for outermost
 paragraphs in the column, \!\hsize! has $w_i$ as well.  As for
 \!\linewidth!, it has $w_i-(\!\textwidth!-l)$ where $l$ is what
 \!\linewidth! had at \beginparacol{}, i.e., the \!\linewidth! for the
 \env{list}-like environment surrounding \env{paracol} if any, or
 \!\textwidth! otherwise.

 在第$i$列中，\!\columnwidth! 的值为$w_i$，对于列中的最外层段落，\!\hsize!的值也为$w_i$。至于 \!\linewidth!，它的值为 $w_i-(\!\textwidth!-l)$，其中$l$是在\beginparacol{}中 \!\linewidth! 所具有的值，即如果有的话，是包围\env{paracol}的\env{list}-like环境的 \!\linewidth!，否则是 \!\textwidth!。
 
 \item
 You can specify width of each column and that of each {\em gap} between
 two columns more detailedly by \!\setcolumnwidth! shown below.  If your
 document has both of \!\columnratio! and \!\setcolumnwidth! prior to a
 \env{paracol} environment, the command given later is effective for the
 environment.

 您可以通过下面的 \!\setcolumnwidth! 更详细地指定每列的宽度和每两列之间的{\em 间隙}的宽度。如果在\env{paracol}环境之前的文档中同时存在 \!\columnratio! 和 \!\setcolumnwidth!，则后面给出的命令对该环境有效。
 \end{itemize}
 
 
 
 \item[\Midx{\!\setcolumnwidth!}\Arg{$s_0,s_1,\cdots,s_k$}
                              {|[|$s'_0,s'_1,\cdots,s'_{k'}$|]|}]\mbox{}\par
 \changes{v1.3-2}{2013/09/17}
	{Add descriptino of \cs{setcolumnwidth}.}
 
 The command defines the width of each column and that of each {\em gap}
 between two columns by the column/gap specification $s_i$ for the $i$-th
 column and the gap between it and the $(i{+}1)$-th column.  More
 specifically, $s_i$ has the form of $\hat w_i$ or $\hat w_i\,|/|\,\hat g_i$
 where each of $\hat w_i$ and $\hat g_i$ is a proper glue including a
 proper dimension, or an empty string to mean $\hat w_i=\!\fill!$ and $\hat
 g_i=\!\columnsep!$, to determine the width of $i$-th column $\w_i$ and that
 of $i$-th gap $\Midx{\gap}_i$ as follows, where $\mathit{nat}(x)$ is the
 natural width of the glue $x$, $\mathit{str}(x)$ is the infinite stretch
 factor of $x$, $W$ is \!\textwidth!, and $n$ is the number of columns
 given to \beginparacol.

 该命令通过列/间隔规范$s_i$定义每个列和每个{\em 间隔}的宽度，其中$s_i$是第$i$列和它与$(i{+}1)$列之间的间隔。
具体来说，$s_i$的形式为$\hat w_i$或$\hat w_i,|/|,\hat g_i$，其中$\hat w_i$和$\hat g_i$都是包含适当尺寸的适当粘连，
或者是一个空字符串来表示 $\hat w_i=\!\fill!$ 和$\hat g_i=\!\columnsep!$，以确定第$i$列$\w_i$和第$i$个间隔$\Midx{\gap}_i$的宽度，
其中$\mathit{nat}(x)$是粘连$x$的自然宽度，$\mathit{str}(x)$是$x$的无限伸展因子，$W$是 \!\textwidth!，$n$是传递给\beginparacol 的列数。

 
 \begin{eqnarray*}
 W'&=&\sum_{i=0}^{n-2}\big(\mathit{nat}(\hat w_i)+\mathit{nat}(\hat g_i)\big)+
      \mathit{nat}(\hat w_{n-1})\\
 F&=&\sum_{i=0}^{n-2}\big(\mathit{str}(\hat g_i)+\mathit{str}(\hat g_i)\big)+
      \mathit{str}(\hat w_{n-1})\\
 x_i&=&\cases{(W/W')\mathit{nat}(\hat x_i)&$W'\geq W\;\lor\;F\leq0$\cr
              \mathit{nat}(\hat x_i)+(\mathit{str}(\hat x_i)/F)(W-W')&
                                           $W'< W\;\land\;F>0$}
     \qquad(x\in\{w,g\})
 \end{eqnarray*}
 That is, if the total of natural widths $W'$ is larger than \!\textwidth!
 $W$ or there are no infinite stretch factors in the specification, given
 widths are scaled down or up so that the scaled total is equal to $W$.
 Otherwise, each width with an infinite stretch factor is extended
 according to its ratio in the total stretch so that the stretched total is
 equal to $W$.

 也就是说，如果自然宽度的总和$W'$大于 \!\textwidth! $W$，或者规范中没有无限伸展因子，给定的宽度将被缩小或放大，使得缩放后的总和等于$W$。否则，每个具有无限伸展因子的宽度将根据其在总伸展中的比例进行扩展，以使伸展后的总和等于$W$。
 
 For a \env{paracol} environment with \parapag{}ing, $n$ is replaced with
 $n_l$ for the columns in left \parapag{}es, while $n$, $w_i$ and $g_i$ are
 replaced with $n_r$, $w_{n_r+i}$ and $g_{n_r+i}$ for those in right
 \parapag{}es.  Moreover, if the optional argument having
 $s'_0,s'_1,\cdots,s'_{k'}$ is provided, $w_{n_r+i}$ and $g_{n_r+i}$ for a
 column in right \parapag{}es are determined by $s'_i$ instead of $s_i$.

 对于具有\parapag{}分页的\env{paracol}环境，对于左侧\parapag{}的列，将$n$替换为$n_l$，而对于右侧\parapag{}的列，将$n$，$w_i$和$g_i$分别替换为$n_r$，$w_{n_r+i}$和$g_{n_r+i}$。此外，如果提供了具有$s'0,s'1,\cdots,s'{k'}$的可选参数，则右侧\parapag{}的列中的$w{n_r+i}$和$g_{n_r+i}$由$s'_i$确定，而不是由$s_i$确定。
 \begin{itemize}
 \item
 In \env{paracol} environments having $n$ columns, $s_i$ s.t.\ $i\geq n$
 and $\hat g_{n-1}$ are ignored.  On the other hand if $k<n-1$, it is
 assumed $s_i$ is an empty string for all $i>k$.

 在具有$n$列的\env{paracol}环境中，忽略满足$i\geq n$和$\hat g_{n-1}$的$s_i$。另一方面，如果$k<n-1$，则假设对于所有$i>k$，$s_i$都是一个空字符串。
 
 \item
 Finite stretch factors and finite or infinite shrink factors in $\hat w_i$
 and $\hat g_i$ are ignored.
 
 在$\hat w_i$和$\hat g_i$中，有限的拉伸因子和有限或无限的收缩因子被忽略。
 \item
 Unlike \TeX's genuine glue addition, all infinite unit |fil|, |fill| and
 |filll| are not distinguished in the summation for $F$.  Also unlike
 \TeX's genuine scaling of a glue primitive, 
 $f\!\fill!$ means $0\,|pt|\ |plus|\ f\,|fill|$ for convenience\footnote{
 
 In \TeX's grammar, $f\!\fill!$ means a dimension rather than a glue and is
 $0\,|pt|$ because the natural component of \!\fill! is 0.}.

 与 \TeX 的真正粘连添加不同，所有无限单位的 |fil|、|fill| 和 |filll| 在 $F$ 的求和中没有区别。另外，与 \TeX 的真正粘连原语的缩放不同， $f\!\fill!$ 表示为 $0,|pt|\ |plus|\ f,|fill|$，以方便使用\footnote{在 \TeX 的语法中，$f\!\fill!$ 表示的是一个尺寸而不是粘连，并且是 $0,|pt|$，因为 \!\fill! 的自然分量为 0。}。
 
 \item
 The division $W/W'$ and $\mathit{str}(\hat x_i)/F$ can have some
 arithmetic errors and thus the total of $w_i$ and $g_i$ may not be equal to
 $W$ exactly but can be a little bit less than $W$.  This small error is,
 however, equally distributed to $g_i$ in typesetting of a page to make the
 total width of columns and gaps is exactly $W$\footnote{
 
 If we may ignore the arithmetic error inherent in \TeX.}.

 除法$W/W'$和$\mathit{str}(\hat x_i)/F$可能存在一些算术误差，因此$w_i$和$g_i$的总和可能不完全等于$W$，而可能略小于$W$。然而，在页面排版中，这个小的误差被等分给$g_i$，以确保列和间隙的总宽度恰好为$W$\footnote{
 
 如果我们可以忽略\TeX 中固有的算术误差。}。
 
 \item
 All the specifications shown in the table below give us same results for a
 \env{paracol} environment having three columns, providing
 $\!\textwidth!=360\,|pt|$ and $\!\columnsep!=S=20\,|pt|$.

 下表中显示的所有规格都可以得到相同的结果，适用于具有三列的\env{paracol}环境，其中 $\!\textwidth!=360,|pt|$和$\!\columnsep!=S=20,|pt|$。
 
 \par\hbox to\textwidth\bgroup\hfil
 \nosv \def\|{\verb|}\small\arraycolsep0pt\def\arraystretch{1.1}
 $\begin{array}[b]{l|ccccc}
 s_0,s_1,s_2&w_0&g_0&w_1&g_1&w_2\rlap{ (in \texttt{pt})}\\\hline
 \|50pt/20pt,100pt/40pt,150pt|&50&20&100&40&150\\
 \|50pt,100pt/2\columnsep,150pt|&50&S&
                                100&2S&150\\
 \|50pt/\fill,100pt/2\fill,150pt|&50&(1/3)\cdot60&100&(2/3)\cdot60&150\\
 \|,2\fill/2\columnsep,3\fill|&\ (1/6)\cdot300&S&
                              (2/6)\cdot300&2S&
                              (3/6)\cdot300\\
 \|50pt/20,50pt plus 1fil/40pt,50pt plus 2fil |&
                              50&20&50+(1/3)\cdot150&40&
                              50+(2/3)\cdot150\\
 \|5pt/2pt,10pt/4pt,15pt|&10\cdot5&10\cdot2&10\cdot10&10\cdot4&
                         10\cdot15\\
 \|100pt/40pt,200pt/80pt,300pt|&0.5\cdot100&0.5\cdot40&
                               0.5\cdot200&0.5\cdot80&
                               0.5\cdot300
 \end{array}$\hfil\egroup
 
 \item
 If your document has both of \!\columnratio! and \!\setcolumnwidth! prior
 to a \env{paracol} environment, the command given later is effective for
 the environment.

如果在\env{paracol}环境之前的文档中同时存在 \!\columnratio! 和 \!\setcolumnwidth!，则后面给出的命令对该环境有效。
 \end{itemize}
 \end{description}
 
