\KeepSpace{6}
\subsection{用于着色文本和列分隔线的命令\\ Commands for Coloring Texts and Column-Separating Rules}
\label{sec:ref-tcolor}

\begin{description}
\item[\Midx{\!\columncolor!}\oarg{mode}\marg{color}\oarg{col}]\mbox{}
\Item[\Midx{\!\normalcolumncolor!}\oarg{col}]\mbox{}\par
\columnratio{0.55}
\begin{paracol}{2}
The command \!\columncolor! declares that the \emph{default color} of a
column is \meta{color} or what it specifies by the combination with the
optional \meta{mode}.  The command \!\normalcolumncolor! declares the
default color is what \!\normalcolor! specifies, i.e., black usually.  The
target column of these commands is that in which the commands reside, or
\meta{col} if it specified.
\switchcolumn
命令 \!\columncolor! 声明列的\emph{默认颜色}为\meta{color}，或者通过与可选的\meta{mode}组合指定的颜色。命令 \!\normalcolumncolor! 声明默认颜色为 \!\normalcolor! 指定的颜色，即通常为黑色。这些命令的目标列是包含命令的列，或者如果指定了\meta{col}，则为\meta{col}。
\end{paracol}

\begin{itemize}
\columnratio{0.55}
\begin{paracol}{2}
\item
The command may be outside of \env{paracol} environment.  If so and
\meta{col} is not provided, the target column is the leftmost 0.
\switchcolumn\item
该命令可以在\env{paracol}环境之外使用。如果是这样，并且未提供\meta{col}，则目标列是最左边的列0。
\switchcolumn[0]*
\item
The default color declaration is \emph{global}.  Therefore, even if the
command appears in a \env{paracol} environment (and even in some grouping
structure in it), the declaration will be kept effective after
\Endparacol{} to determine the default color of the specified column in
succeeding \env{paracol} environments.
\switchcolumn\item
默认的颜色声明是\emph{全局的}。因此，即使该命令出现在\env{paracol}环境中（甚至在其中的某个分组结构中），该声明在\Endparacol{}之后仍将保持有效，以确定后续\env{paracol}环境中指定列的默认颜色。
\switchcolumn[0]*
\item
To give a color to texts (and maybe other stuff) in a column correctly,
you need to load \textsf{color} package or its relative (e.g.,
\textsf{xcolor}) which the implementation of coloring in \textsf{paracol}
relies on.
\switchcolumn\item
要正确给列中的文本（以及其他内容）着色，您需要加载\textsf{color}包或其相关包（例如\textsf{xcolor}），因为\textsf{paracol}中的着色实现依赖于它们。
\switchcolumn[0]*
\item
Coloring with \!\color!\oarg{mode}\marg{color} and other coloring commands
in \env{paracol} environments is of course allowed.  One caution is that
the \!\color! decides the color for following texts until other
specification is given or the group surrounding the command is closed.
Therefore, \!\switchcolumn! does not affect the coloring but a color given
to the texts in a column is also applied to the texts in the column to be
switched to.  This irrelativeness of coloring and \cswitch{} is shown in
the example below.
\switchcolumn\item
当然可以在\env{paracol}环境中使用 \!\color!\oarg{mode}\marg{color} 和其他着色命令。一个注意事项是 \!\color! 决定了后续文本的颜色，直到给出其他规范或关闭命令周围的分组。因此， \!\switchcolumn! 不会影响着色，但对于给定列中的文本的颜色也会应用于要切换到的列中的文本。下面的示例展示了着色和\cswitch{}的无关性。
\end{paracol}

\twosided[]\columnratio{0.5}\columnsep0pt
\tolerance5000\hbadness5000
\begin{paracol}{2}
\columncolor{blue}
This column is colored blue because\\
本栏目被着色为蓝色，因为\\
\mbox{}\qquad \!\columncolor!|{blue}|\\
is specfied.  Here we have a \!\switchcolumn!.\\
指定了。接着有一个 \!\switchcolumn!命令。
\switchcolumn
\columncolor{red}
This column is colored red because\\
本栏目被着色为红色，因为\\
\mbox{}\qquad\!\columncolor!|{red}|\\
is specified.\\
被指定了。

\begin{color}{green}
Now the color of the right column is changed to green because\\
现在右栏的颜色被更改为绿色，因为\\
\mbox{}\qquad\!\begin!|{color}{green}|\\
is given prior to this paragraph.  Now we have another \!\switchcolumn! to
go back to the left.
\\被指定了。现在我们有另一个 \!\switchcolumn!来返回到左侧。
\switchcolumn
The color of this paragraph is green because we are still in the
environment of green coloring, which we are now closing.\par
这段文字的颜色是绿色的，因为我们仍然处于绿色着色的环境中，而现在我们正在关闭它。\par
\end{color}%

Since the coloring environment has been closed, the color of this
paragraph is the default blue.  Now we have yet another and the last
\!\switchcolumn! to the right.\\
由于着色环境已关闭，这段文字的颜色是默认的蓝色。现在我们有另一个并且是最后一个 \!\switchcolumn! 向右切换。\\\
\switchcolumn
Since this paragraph is outside of the coloring environment, its color is
the default red.
\\由于这段文字在着色环境之外，它的颜色是默认的红色。
\end{paracol}

\normalcolumncolor[0]\normalcolumncolor[1]
The default coloring of columns does not affect anything outside of
\env{paracol} environment of course, and thus this sentence is not
colored\footnote{

Or colored black as \cs{normalcolor} specifies.}.

默认的栏目着色当然不会影响\env{paracol}环境之外的任何内容，因此这个句子没有被着色\footnote{或者按照\cs{normalcolor}的指定，着色为黑色。}。
\end{itemize}



\KeepSpace{4}
\item[\Midx{\!\coloredwordhyphenated!}]\mbox{}
\Item[\Midx{\!\nocoloredwordhyphenated!}]\mbox{}\par
\changes{v1.3-3}{2013/09/17}
{Add description of \cs{coloredwordhyphenated} and
    \cs{nocoloredwordhyphenated}.}

The command \!\coloredwordhyphenated! allows the first word following a
coloring command such as \!\color! to be hyphenated, but at the same time
make it possible that a line is broken before the word.  The command
\!\nocoloredwordhyphenated! acts oppositely and thus line breaking before
the first word and hyphenating it are inhibited.  By default,
\!\coloredwordhyphenated! is effective.

命令 \!\coloredwordhyphenated! 允许在着色命令（如 \!\color!）后的第一个单词进行连字符划分，但同时也可能在该单词之前进行换行。命令 \!\nocoloredwordhyphenated! 则具有相反的作用，从而禁止在第一个单词之前进行换行和连字符划分。默认情况下，\!\coloredwordhyphenated! 是有效的。
\begin{itemize}
\item
The implementation of \textsf{color} package and its relatives makes it
impossible that \meta{word} is hyphenated when it appears like
|{|\!\color!|{red}|\meta{word} \ldots|}| or
\!\textcolor!|{|\meta{word} \ldots|}|.  This inhibition of the hyphenation
is sometimes annoying especially when the document is multi-columned and
thus a line is narrow and a column is written in a language having long
words such as German.  Therefore in \Paracol{} package, a trick is used to
allow the \meta{word} is hyphenated.  However this trick being insertion
of a null horizontal space has a side effect that the word can have a line
break before it.  Though this line break is usually unharmful, in a
special occasion the break is undesirable and
in\textcolor{red}{appropriate} by making it possible that the
\emph{half-colored} word `inappropriate' is broken between `in' and
`appropriate' without hyphenation.  Therefore, if you find such a
inappropriate break, use \!\nocoloredwordhyphenated! as follows, for example.

\textsf{color}宏包及其相关命令的实现方式使得在类似于 |{|\!\color!|{red}|\meta{word} \ldots|}| 或 \!\textcolor!|{|\meta{word} \ldots|}| 的情况下，无法对 \meta{word} 进行连字符划分。这种禁止连字符划分的机制有时会令人感到不便，特别是在文档具有多列布局的情况下，当一行较窄且一列使用具有较长单词的语言（如德语）时。因此，在 \Paracol{} 宏包中，使用了一个技巧来允许对 \meta{word} 进行连字符划分。然而，这个技巧是插入一个空的水平间距，这会导致单词之前出现一个换行。虽然这种换行通常没有问题，但在特殊情况下，这种换行可能是不可取的，并且\textcolor{red}{不合适}，因为它使得半着色的单词“inappropriate”在“in”和“appropriate”之间断开而没有连字符划分。因此，如果您发现这样的不合适的断行，请使用 \!\nocoloredwordhyphenated!，例如以下方式。
\begin{quote}
|{\nocoloredwordhyphenated in\textcolor{red}{appropriate}}|
\end{quote}
\end{itemize}


\KeepSpace{4}
\item[\Midx{\!\colseprulecolor!}\oarg{mode}\marg{color}\oarg{col}]\mbox{}
\Item[\Midx{\!\normalcolseprulecolor!}\oarg{col}]\mbox{}\par
\changes{v1.3-3}{2013/09/17}
{Add description of \cs{colseprulecolor} and
    \cs{normalcolseprulecolor}.}

The command \!\colseprulecolor! declares the color for
{\em\Uidx\cseprule{}s}, being the vertical rules drawn at the center of
gaps between columns, is \meta{color} or what it specifies by the
combination with the optional \meta{mode}.  The command
\!\normalcolseprulecolor! declares the color of rules is what
\!\normalcolor! specifies, i.e., black usually.  If the optional argument
\meta{col} is given, these commands specifies the color of the rule in the
gap following the column whose ordinal is \meta{col}, rather than all rules.

命令 \!\colseprulecolor! 用于声明列分隔符的颜色，列分隔符是在列之间的间隙中央绘制的垂直线条。颜色可以是特定的颜色，也可以是与可选的模式组合指定的颜色。
命令 \!\normalcolseprulecolor! 将列分隔符的颜色设置为 \normalcolor 命令指定的颜色，通常为黑色。
如果给出可选参数 \meta{col}，这些命令将指定在具有序号 \meta{col} 的列之后的间隙中的分隔符的颜色，而不是所有分隔符的颜色。
\begin{itemize}
\item
The rules are drawn if \LaTeX's typesetting parameter \!\columnseprule!
for the rule width has non-zero value, e.g., 0.4\,|pt| to obey the
standard rule thickness.  The rules are \emph{not} drawn on \pwstuff{},
i.e., \Preenv{} and \postenv, \pwise{} floats or (\mgfnote{} or
non-merged) \Scfnote{}s of course but also \mctext{}s.  Therefore, if a
page has \mctext{}s, the rules are {\em broken} by them as shown in the
red rule example below.

如果\LaTeX 的排版参数 \!\columnseprule! 的规则宽度具有非零值（例如，0.4,|pt|以遵守标准规则厚度），则会绘制规则。规则不会绘制在\pwstuff{}上，即\Preenv{}和\postenv，\pwise{}浮动对象或（\mgfnote{}或非合并的）\Scfnote{}上，当然也不会绘制在\mctext{}上。因此，如果页面上有\mctext{}，则它们会打破规则，如下面的红色规则示例所示。
\global\unitlength\@totalleftmargin
\end{itemize}
\end{description}

\columnseprule0.4pt\colseprulecolor{red}[1]\colseprulecolor{white}[0]
\setcolumnwidth{\unitlength/0pt}
\begin{paracol}{3}\switchcolumn\noindent 
This is a left column paragraph preceding a \mctext.  Of cource the rule
separating this and the next column starts from the top of this paragraph.

这是一个左列段落，位于 \mctext 之前。当然，分隔这个段落和下一列的规则从该段落的顶部开始。
\switchcolumn\noindent
This is a right column paragraph preceding a \mctext{} given by the
\!\switchcolumn!|*| at its end.

这是一个位于右列的段落，在其末尾由 \!\switchcolumn!|*| 给出的\mctext{}之前。
\switchcolumn[1]*[\subsubsection*{\hbox to\unitlength{}
An Example of Spanning Text Given by \cs{subsubsection}|*| Command \hfill 一个由\cs{subsubsection}|*|命令给出的跨列文本示例}]
Since we have a \mctext{} above, the red rule separating this and the next
column is broken by the text.

由于上方有一个\mctext{}，分隔这一列与下一列的红色分隔线被文本打断。
\switchcolumn
It is also natural that the rule separating this and the previous column is
terminated at the end of this \env{paracol} environment.

同样自然的是，分隔这一列与前一列的分隔线在\env{paracol}环境的末尾终止。
\end{paracol}
\columnseprule0pt\columnratio{}

\begin{description}
\Item[]\mbox{}
\begin{itemize}
\Item
To give a color to rules correctly, you need to load \textsf{color}
package or its relative (e.g., \textsf{xcolor}) which the implementation
of coloring in \textsf{paracol} relies on.

为了正确给分隔符上色，您需要加载 \textsf{color} 或其相关包（例如 \textsf{xcolor}），因为 \textsf{paracol} 中的着色实现依赖于它们。

\item
Once you give a color to rules in a specific gap with the optional
\meta{col}, another \!\colseprulecolor! or \!\normalcolseprulecolor!
without \meta{col} does \emph{not} change the color of the rule in the
gap.

一旦您使用可选参数 \meta{col} 为特定间隙中的分隔符指定了颜色，再次使用 \!\colseprulecolor! 或 \!\normalcolseprulecolor!，而没有使用 \meta{col}，不会改变该间隙中的分隔符的颜色。
\end{itemize}
\end{description}
