% !TeX root = tcolorbox.tex
% include file of tcolorbox.tex (manual of the LaTeX package tcolorbox)
% \clearpage
% Side by Side

\setcounter{section}{5}
\setcounter{subsection}{2}

\section{并排}\label{sec:sidebyside}%
\tcbset{external/prefix=external/sidebyside_}%

A \csh渐变盒子{side by side} box is a special \refEnvLe{tcolorbox} where
the upper and lower part of the box are set side by side.
All boxes of this kind are unbreakable.


一个\emph{并排}的盒子是一个特殊的\refEnvLe{tcolorbox}，其中盒子的上部和下部并排设置。这种类型的所有盒子都是\csh渐变盒子[red]{不可分割的}。


\begin{marker}
% \begin{stripedbox}
Further side by side options for code examples are
% \tcblower

进一步的排版代码的 side by side 选项的例子有
% \end{stripedbox}

\refKeyLe{/tcb/listing side text},
\refKeyLe{/tcb/text side listing},
\refKeyLe{/tcb/listing outside text}, 和
\refKeyLe{/tcb/text outside listing}.
\end{marker}

% Basic Settings \hfill 
\subsection{基本设置}\label{subsec:sidebyside_basic}

% \input{sidebyside/key_sidebyside}%
\input{sidebyside/key_sidebyside_align.tex}%
% key_
2



 
\end{document}



% \clearpage
\begin{docTcbKey}{sidebyside gap}{=\meta{length}}{no default, initially |10mm|}
\begin{stripedbox}
Sets the horizontal distance between the left-handed and right-handed part to \meta{length}.
\tcblower
将左和右部分之间的水平距离设置为\meta{length}。
\end{stripedbox}

\begin{dispExample}
\tcbset{colback=red!5!white,colframe=red!75!black,fonttitle=\bfseries,nobeforeafter,
  sidebyside,width=(\linewidth-2mm)/2}

\begin{tcolorbox}[adjusted title=宽gap,sidebyside gap=30mm]
这段文字太长了太长了太长了太长了，一行写不完。
\tcblower
简短文字。
\end{tcolorbox}\hfill
\begin{tcolorbox}[adjusted title=窄gap,sidebyside gap=1mm]
这段文字太长了太长了太长了太长了，一行写不完。
\tcblower
简短文字
\end{tcolorbox}
\end{dispExample}
\end{docTcbKey}


\begin{docTcbKey}{lefthand width}{=\meta{length}}{no default, initially unset}
\begin{stripedbox}
Sets the width of the left-handed part to the given \meta{length}.
\tcblower
将左部的宽度设置为给定的\meta{length}。
\end{stripedbox}

\begin{dispExample}
\tcbset{colback=red!5!white,colframe=red!75!black,fonttitle=\bfseries}

\begin{tcolorbox}[title=My title,sidebyside,lefthand width=3cm]
这是 upper (\textit{左}) 部分.
\tcblower
这是 lower (\textit{右}) 部分.
\end{tcolorbox}
\end{dispExample}
\end{docTcbKey}

\enlargethispage*{1cm}
\begin{docTcbKey}{righthand width}{=\meta{length}}{no default, initially unset}
\begin{stripedbox}
Sets the width of the right-handed part to the given \meta{length}.
\tcblower
将右部的宽度设置为给定的\meta{length}。
\end{stripedbox}

\begin{dispExample}
\tcbset{colback=red!5!white,colframe=red!75!black,fonttitle=\bfseries}

\begin{tcolorbox}[title=My title,sidebyside,righthand width=3cm]
这是 upper (\textit{左}) 部分.
\tcblower
这是 lower (\textit{右}) 部分.
\end{tcolorbox}
\end{dispExample}
\end{docTcbKey}

% \clearpage
\begin{docTcbKey}{lefthand ratio}{=\meta{fraction}}{no default, initially |0.5|}
\begin{stripedbox}
Sets the width of the left-handed part to the given \meta{fraction} of
the available space. \meta{fraction} is a value between |0| and |1|.
\tcblower
设置左侧的宽度为所有可用宽度的比例 \meta{fraction}。
\meta{fraction} 取值在 |0| 到 |1|。
\end{stripedbox}

\begin{dispExample}
\tcbset{colback=red!5!white,colframe=red!75!black,fonttitle=\bfseries}

\begin{tcolorbox}[title=My title,sidebyside,lefthand ratio=0.25]
这是 upper (\textit{左}) 部分.
\tcblower
这是 lower (\textit{右}) 部分.
\end{tcolorbox}
\end{dispExample}
\end{docTcbKey}


\begin{docTcbKey}{righthand ratio}{=\meta{fraction}}{no default, initially |0.5|}
\begin{stripedbox}
Sets the width of the right-handed part to the given \meta{fraction} of
the available space. \meta{fraction} is a value between |0| and |1|.
\tcblower
设置右侧的宽度为所有可用宽度的比例 \meta{fraction}。
\meta{fraction} 取值在 |0| 到 |1|。
\end{stripedbox}

\begin{dispExample}
\tcbset{colback=red!5!white,colframe=red!75!black,fonttitle=\bfseries}
\begin{tcolorbox}[title=My title,sidebyside,righthand ratio=0.25]
这是 upper (\textit{左}) 部分.
\tcblower
这是 lower (\textit{右}) 部分.
\end{tcolorbox}
\end{dispExample}
\end{docTcbKey}


% \clearpage
\begin{stripedbox}
If one side of a side-by-side box should be adapted to the width of its content, 
this width has to be computed beforehand.
The following example uses a savebox |\mysavebox| to store the picture to determine its width. 
A more convenient way to handle this task is to use the methods from \Fullref{subsec:sidebyside_xparse}.
\tcblower
如果一个并排的盒子的一边要适应其内容的宽度, %
这个宽度必须事先计算。%
下面的例子使用一个存储盒子 |\mysavebox| 来存储图片以确定其宽度。%
处理这个任务更方便的方法是使用来自 \Fullref{subsec:sidebyside_xparse} 的方法。
\end{stripedbox}


\begin{dispExample}
% \tcbuselibrary{skins,xparse}
% \usepackage{lipsum}
% \newsavebox\mysavebox  % preamble
\DeclareTotalTColorBox{\mysidebox}{ O{} +m +m }{
  bicolor,colback=white,colbacklower=yellow!10,
  fonttitle=\bfseries,center title,
  sidebyside,
  code={\sbox{\mysavebox}{#2}},
  lefthand width=\wd\mysavebox,
  drop lifted shadow,
  #1
}
{\usebox{\mysavebox}\tcblower#3}

\mysidebox[title=The Triangle]{%
  \begin{tikzpicture}
    \path[fill=red!20,draw=red!50!black]
      (0,0) node[below]{A} -- (3,1) node[right]{B}
      -- (1,4) node[above]{C} -- cycle;
  \end{tikzpicture}%
}{%
  \lipsum[1]
}
\end{dispExample}

% \clearpage
% Advanced Settings from the \mylib{xparse} Library
\subsection{来自\mylib{xparse}库的高级设置}\label{subsec:sidebyside_xparse}

\begin{marker}
\begin{stripedbox}
All following macros and options need the \mylib{xparse} library to be
loaded, see \Fullref{sec:xparse}.
\tcblower
所有下面的宏和选项都需要加载 \mylib{xparse}库，见\Fullref{sec:xparse}。
\end{stripedbox}
\end{marker}


\begin{docCommand}[doc new=2015-11-20]{tcbsidebyside}{\oarg{options}\marg{left-handed content}\marg{right-handed content}}
\begin{stripedbox}
Creates a colored box using more or less arbitrary \meta{options} for a \refEnvLe{tcolorbox}.
The \refKeyLe{/tcb/sidebyside} option is set to |true| and the \meta{left-handed content} and \meta{right-handed content} is filled into the box appropriately.
The resulting box is unbreakable.
\tcblower
为\refEnvLe{tcolorbox}指定任意的选项\meta{options}创建一个 |tcolorbox| 盒子。%
\refKeyLe{/tcb/sidebyside}选项被设置为|true|， \meta{left-handed content}和\meta{right-handed content}被适当地填充到盒子中。%
这样的盒子是不可分页的。
\end{stripedbox}

\begin{stripedbox}
\refComLe{tcbsidebyside} is not only a shortcut for using a normal \refEnvLe{tcolorbox} with \refKeyLe{/tcb/sidebyside}, 
but allows setting further options like \refKeyLe{/tcb/sidebyside adapt} and \refKeyLe{/tcb/sidebyside switch}.
\tcblower
\refComLe{tcbsidebyside}不只是使用普通的\refEnvLe{tcolorbox}指定\refKeyLe{/tcb/sidebyside}的快捷方式， 
还允许设置更多的选项，如\refKeyLe{/tcb/sidebyside adapt}和\refKeyLe{/tcb/sidebyside switch}。
\end{stripedbox}

\begin{dispExample}
% \tcbuselibrary{skins,xparse}
% \usepackage{lipsum}
\tcbsidebyside[title=The Triangle,
  sidebyside adapt=left,
  bicolor,colback=white,colbacklower=yellow!10,
  fonttitle=\bfseries,center title,drop lifted shadow,
]{%
  \begin{tikzpicture}
    \path[fill=red!20,draw=red!50!black]
      (0,0) node[below]{A} -- (3,1) node[right]{B}
      -- (1,4) node[above]{C} -- cycle;
  \end{tikzpicture}%
}{%
  \lipsum[1]
}
\end{dispExample}
\end{docCommand}

% \clearpage
\begin{docTcbKey}[][doc new=2015-11-20]{sidebyside adapt}{=\meta{side(s)}}{no default, initially |none|}
\begin{stripedbox}
The option allows the left-handed and/or right-handed side to determine the dimensions of the box. 
This option is only valid inside \refComLe{tcbsidebyside}.
\tcblower
该选项允许根据左边和/右边内容确定盒子的尺寸。
此选项仅在\refComLe{tcbsidebyside}内有效。
\end{stripedbox}

Feasible values for \meta{side(s)} are:
\begin{itemize}
    \item\docValue{none}: 
\begin{stripedbox}
no measurement of left-handed and right-handed side.
\tcblower
不测量左边和右边。
\end{stripedbox}
    \item\docValue{left}:
\begin{stripedbox}
the actual width of the left-handed content is used to set \refKeyLe{/tcb/lefthand width}.
\tcblower
左侧内容的实际宽度用于设置 \refKeyLe{/tcb/lefthand width}。
\end{stripedbox}
    \item\docValue{right}:
\begin{stripedbox}
the actual width of the right-handed content is used to set \refKeyLe{/tcb/righthand width}.
\tcblower
右侧内容的实际宽度用于设置\refKeyLe{/tcb/右手宽度}。
\end{stripedbox}

    \item\docValue{both}:
\begin{stripedbox}
the actual width of the left-handed and right-handed content is used to set \refKeyLe{/tcb/lefthand width},  \refKeyLe{/tcb/righthand width}, and the overall \refKeyLe{/tcb/width}.
\tcblower
左手和右手内容的实际宽度用于设置 \refKeyLe{/tcb/lefthand width} 和 \refKeyLe{/tcb/righthand width}，%
和整个\refKeyLe{/tcb/width}。
\end{stripedbox}

\end{itemize}

\begin{dispExample}
% \tcbuselibrary{skins,xparse}
\tcbsidebyside[sidebyside adapt=left,
  title=非常重要的表格,
  beamer,colframe=blue!50!black,colback=blue!10
  ,lower separated=false%无分隔线了
  ,sidebyside gap=5mm
]{%
  \begin{tabular}{|l|c|r|}\hline
    left & center & right\\\hline
    A & B & C\\\hline
    D & E & F\\\hline
  \end{tabular}
}{%
此表包含所有未来操作的最重要数据。
你可能注意到B跟在A后面，C跟在B后面，以此类推。
}
\end{dispExample}



\begin{dispExample}
% \tcbuselibrary{skins,xparse}
\tcbsidebyside[sidebyside adapt=right,
  blanker,sidebyside gap=5mm
]{%
  \lipsum[2]
}{%
\begin{tikzpicture}
  \path[fill=yellow,draw=yellow!75!red] (0,0) circle (1cm);
  \fill[red] (45:5mm) circle (1mm);
  \fill[red] (135:5mm) circle (1mm);
  \draw[line width=1mm,red] (215:5mm) arc (215:325:5mm);
\end{tikzpicture}
}
\end{dispExample}


\begin{dispExample}
% \tcbuselibrary{skins,xparse}
\tcbsidebyside[sidebyside adapt=both,
  enhanced,center,
  title=Both sides adapted,
  attach boxed title to top center={yshift=-2mm},
  coltitle=black,boxed title style={colback=red!25},
  segmentation style=solid,colback=red!5,colframe=red!50
]{%
  \begin{tabular}{|l|c|r|}\hline
    left & center & right\\\hline
    A & B & C\\\hline
    D & E & F\\\hline
  \end{tabular}
}{%
\begin{tikzpicture}
  \path[fill=yellow,draw=yellow!75!red] (0,0) circle (1cm);
  \fill[red] (45:5mm) circle (1mm);
  \fill[red] (135:5mm) circle (1mm);
  \draw[line width=1mm,red] (215:5mm) arc (215:325:5mm);
\end{tikzpicture}
}
\end{dispExample}
\end{docTcbKey}

% \clearpage
\begin{docTcbKey}[][doc new=2015-11-20]{sidebyside switch}{\colOpt{=true\textbar false}}{default |true|, initially |false|}
\begin{stripedbox}
If set to |true|, the
\meta{left-handed content} and \meta{right-handed content}
of \refComLe{tcbsidebyside} are switched.
Obviously, this option is only valid inside \refComLe{tcbsidebyside}.
\tcblower
如果设置为|true|,%
\refComLe{tcbsidebyside}的 \meta{left-handed content} 和 \meta{right-handed content} 会被切换。%
显然，这个选项只在\refComLe{tcbsidebyside}内有效。
\end{stripedbox}

\begin{stripedbox}
The side switching can be made even/odd page sensitive, 
if used inside \refKeyLe{/tcb/if odd page}.
\tcblower
如果指定了了 \refKeyLe{/tcb/if odd page}，两侧切换对奇/偶页敏感。
\end{stripedbox}


\begin{dispExample}
% \tcbuselibrary{skins,xparse}
\tcbsidebyside{Left}{Right}

\tcbsidebyside[sidebyside switch]{Left}{Right}

\tcbsidebyside[title=Very important table,
  if odd page={sidebyside switch,sidebyside adapt=right,flushright title}%
              {sidebyside adapt=left},
  beamer,colframe=blue!50!black,colback=blue!10,
  lower separated=false,sidebyside gap=5mm
]{%
  \begin{tabular}{|l|c|r|}\hline
    left & center & right\\\hline
    A & B & C\\\hline
    D & E & F\\\hline
  \end{tabular}
}{%
  This table contains the most important figures for
  all future actions. You may notice that B follows A,
  C follows B, and so on.
}
\end{dispExample}


\end{docTcbKey}

