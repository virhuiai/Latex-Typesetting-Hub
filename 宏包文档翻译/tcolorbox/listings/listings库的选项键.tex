\subsection{Option Keys of the \mylib{listings} Library\\listings库的选项键}\label{sec:speclistingkeys}

\begin{docTcbKey}{listing options}{=\meta{key list}}{no default, initially |style=tcblatex|}
Sets the options from the package |listings| 
which are used during typesetting of the listing.
For \LaTeX\ listings, there is a predefined |listings| style named |tcblatex|
which can be used.

设置来自 |listings| 包的选项，这些选项在排版清单时使用。 对于 \LaTeX\ 清单，有一个预定义的 |listings| 样式名为 |tcblatex|，可以使用。
\begin{dispExample}
\begin{tcblisting}{colback=red!5!white,colframe=red!25,left=6mm,
listing options={style=tcblatex,numbers=left,numberstyle=\tiny\color{red!75!black}}}
This is a \LaTeX\ example which displays the text as source code
and in compiled form. Additionally, we use line numbers here.

这是一个 \LaTeX\ 的例子，它将文本显示为源代码和编译形式。此外，我们在这里使用行号。
\end{tcblisting}
\end{dispExample}
\end{docTcbKey}

\begin{docTcbKey}{no listing options}{}{no value, initially unset}
Abbreviation for |listing options={}|.
This removes all options for the |listings| package.
This includes the |tcblisting| standard style |tcblatex| and the encoding presets.
Use this option, if you want to set the |listings| options outside of |tcblisting|, e.\,g.\ globally in
the preamble.

|listing options={} |的缩写。 这将删除|listings|包的所有选项。 这包括|tcblisting|标准样式|tcblatex|和编码预设。 如果您想在|tcblisting|之外设置|listings|选项，例如在导言中全局使用，请使用此选项。
\begin{dispExample}
\begin{tcblisting}{no listing options}
All \textit{listings} options removed.

所有“列表选项”已被移除。
\end{tcblisting}
\end{dispExample}
\end{docTcbKey}


\begin{docTcbKey}{listing style}{=\meta{style}}{no default, initially |tcblatex|}
Abbreviation for |listing options={style=...}|. This key sets a \meta{style}
for the |listings| package, see .
For \LaTeX, there is a predefined style named |tcblatex|.

|listing options={style=...}|的缩写。此键设置|listings|包的\meta{style}，请参见。对于\LaTeX，有一个预定义的样式名为|tcblatex|。
\begin{dispExample}
\begin{tcblisting}{colback=red!5!white,colframe=red!75!black,
listing style=tcblatex}
Here, we use the predefined style.
\end{tcblisting}
\end{dispExample}
\end{docTcbKey}

%% \clearpage
\begin{docTcbKey}{listing inputencoding}{=\meta{encoding}}{no default, initially \texttt{\cs inputencodingname}}
Sets the input encoding value for the predefined listing style |tcblatex|
and |tcbdocumentation| from the library \mylib{documentation}.
The initial value is derived from the package |inputenc| if used.

为预定义的列表样式 |tcblatex| 和 |tcbdocumentation| 设置输入编码值，来自库 \mylib{documentation}。初始值是从使用的包 |inputenc| 中得出的。
\end{docTcbKey}

\begin{docTcbKey}{listing remove caption}{\colOpt{=true\textbar false}}{default |true|, initially |true|}
If set to |true|, some part of the caption building code of the |listings| package
is silenced to prevent some unwanted interaction with the |hyperref| package resulting
in additional vertical space.
If set to |false|, the |listings| package code is kept unchanged.
Note that listings outside \refEnvLe{tcblisting} and
\refComLe{tcbinputlisting} are always processed normally.
Typically, a user is not expected to use this key at all.

如果将其设置为|true|，则会禁用列表|listings|包的一些标题构建代码，以防止与|hyperref|包产生一些不需要的交互，导致额外的垂直空间。 如果设置为|false|，则|listings|包的代码保持不变。 请注意，位于\refEnvLe{tcblisting}和\refComLe{tcbinputlisting}之外的列表始终以正常方式处理。 通常，用户不需要使用此设置。
\end{docTcbKey}

\begin{docTcbKey}{every listing line}{=\meta{text}}{no default, initially unset/empty}
Inserts some \meta{text} to the begin of every line of a listing.
Note that this a hack of the |listings| package code. This may become unusable
or superfluous in the future.

在代码清单的每一行开头插入一些\meta{text}。 请注意，这是|listings|包代码的一个hack。这可能在未来变得无用或多余。
\begin{dispExample}
\newtcblisting{commandshell}{colback=black,colupper=white,colframe=yellow!75!black,
listing only,listing options={style=tcblatex,language=sh},
every listing line={\textcolor{red}{\small\ttfamily\bfseries root \$> }}}

\begin{commandshell}
ls -al
cd /usr/lib
\end{commandshell}
\end{dispExample}
\end{docTcbKey}


\begin{docTcbKey}{every listing line*}{=\meta{text}}{no default, initially unset/empty}
Identical to \refKeyLe{/tcb/every listing line} plus additional enlargement
of \refKeyLe{/tcb/rightupper} by the width of \meta{text}. Therefore, this
option has to be used after the geometry settings are done.
This option is intended to be used in conjunction with \refKeyLe{/tcb/hbox}.

与\refKeyLe{/tcb/every listing line}完全相同，加上\meta{text}的宽度对\refKeyLe{/tcb/rightupper}进行额外放大。因此，必须在几何设置完成后使用此选项。此选项旨在与\refKeyLe{/tcb/hbox}一起使用。
\begin{dispExample}
\newtcblisting{commandshell}{colback=black,colupper=white,colframe=yellow!75!black,
listing only,listing options={style=tcblatex,language=sh},hbox,
every listing line*={\textcolor{red}{\small\ttfamily\bfseries root \$> }}}

\begin{commandshell}
ls -al
cd /usr/lib
\end{commandshell}
\end{dispExample}

\begin{dispExample}
\newtcblisting{commandshell}%
{colback=black,colupper=white,colframe=yellow!75!black%
,listing only,listing options={style=tcblatex,language=sh},hbox,
every listing line={\textcolor{green}{\small\ttfamily\bfseries virhuiai \textasciitilde{} \$> }}}

\begin{commandshell}
ls -al
cd /usr/lib
\end{commandshell}
\end{dispExample}
\end{docTcbKey}

See further options in \Vref{sec:commonlistingkeys}.

请参见 \Vref{sec:commonlistingkeys} 中的更多选项。
\begin{marker}
For an combined example of using |\lstinline| inside a |tcolorbox|, see
\refComLe{DeclareTotalTCBox}.

有关在|tcolorbox|中使用|\lstinline|的组合示例，请参见\refComLe{DeclareTotalTCBox}。
\end{marker}
