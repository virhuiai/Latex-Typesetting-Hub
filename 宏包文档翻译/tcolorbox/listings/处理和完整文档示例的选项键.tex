\subsection{Option Keys for Processing and Full Document Examples\\处理选项键和完整文档示例}\label{sec:proclistingkeys}

A complete \LaTeX\ document including |\documentclass|, |\begin{document}|
and |\end{document}| cannot be processed directly by |tcolorbox|.
It always has to be compiled separately. There are two methods supported
by the package to process and display such a full document example:

% 包括 |\documentclass|、|\begin{document}| 和 |\end{document}| 的完整 \LaTeX\ 文档不能直接由 |tcolorbox| 处理。 它必须单独编译。该包支持两种方法来处理和显示这样的完整文档示例： 

一个包括 |\documentclass|、|\begin{document}| 和 |\end{document}| 的完整 \LaTeX\ 文档不能直接由 |tcolorbox| 处理。它必须被单独编译。该包支持两种方法来处理和展示这样一个完整的文档示例：
\begin{itemize}
\item Prepare and compile the example document independent from your main
document. The source file and the resulting PDF file can be included
into the main document afterwards. This is the most economic way since
the example document can be left untouched after the example is complete.
\\独立于主文档准备和编译示例文档。源文件和生成的 PDF 文件可以随后包含到主文档中。这是最经济的方法，因为示例文档在示例完成后可以保持不变。
\item The other possibility is to compile the example on the fly while
the main document is compiled. This way has some charm, because the
example can be edited inside the main document. But be aware that the
compilation of the example is issued on every run of the main document.
Also, there are fewer degrees of freedom how the example is compiled.
\\另一种可能性是在编译主文档时即时编译示例。这种方式具有一些魅力，因为示例可以在主文档中进行编辑。但是请注意，示例的编译会在每次主文档运行时发出。此外，关于如何编译示例的自由度更少。
\end{itemize}
% \begin{itemize} \item  \item  \end{itemize}

For both methods, the resulting example PDF file can be included
as a \refKeyLe{/tcb/pdf comment}.

对于这两种方法，生成的示例PDF文件可以作为\refKeyLe{/tcb/pdf comment}包含。

% \include*{listings/处理和完整文档示例的选项键_包含源文件和生成的PDF文件}
% \include*{listings/处理和完整文档示例的选项键_process_code}

%% \clearpage
\include*{listings/处理和完整文档示例的选项键_run_system_command}

% 

\end{document}




\begin{docTcbKey}[][doc new and updated={2014-11-14}{2016-05-27}]{compilable listing}{}{style, no default}
Sets \refKeyLe{/tcb/listing file} to |\jobname|\texttt{-listing-}\meta{counter}.

将\refKeyLe{/tcb/listing file}设置为|\jobname|\texttt{-listing-}\meta{counter}。 
\begin{marker}
The default \refKeyLe{/tcb/listing file} setting cannot be used to compile
a listing, since the base name equals the |\jobname| and the included PDF
files should be unique.
Therefore, to use \refKeyLe{/tcb/run pdflatex} etc., the \refKeyLe{/tcb/listing file}
has to be set to a unique value.
One may use \refKeyLe{/tcb/compilable listing} for this purpose.

默认的\refKeyLe{/tcb/listing file}设置不能用于编译列表，因为基本名称等于|\jobname|，包含的PDF文件应该是唯一的。 因此，要使用\refKeyLe{/tcb/run pdflatex}等，必须将\refKeyLe{/tcb/listing file}设置为唯一值。 可以使用\refKeyLe{/tcb/compilable listing}来实现这个目的。
\end{marker}
\end{docTcbKey}


\begin{docTcbKey}[][doc new=2014-11-14]{run pdflatex}{\colOpt{=\meta{arguments}}}{style, no default, initially unset}
Issues a |pdflatex| compilation of the listing with the given \meta{arguments}.

使用给定的 \meta{arguments} 发行一个 |pdflatex| 编译清单。
\begin{itemize}
\item The main document has to be compiled with the |-shell-escape| permission.
\\主文档必须使用 |-shell-escape| 权限进行编译。
\item The \refKeyLe{/tcb/listing file} has to be unique for the listing.
\\\refKeyLe{/tcb/listing file} 必须对于该代码清单是唯一的。
\item If the listing has to be compiled twice, add |run pdflatex| two times to
the option list.
\\如果需要对代码清单进行两次编译，需要将 |run pdflatex| 添加两次。
\end{itemize}
% \begin{itemize} \item 主文档必须以 |-shell-escape| 权限进行编译。 \item \refKeyLe{/tcb/listing file} 必须对于清单是唯一的。 \item 如果需要编译两次清单，则将 |run pdflatex| 添加到选项列表中两次。 \end{itemize}

\begin{dispListing*}{breakable,enhanced,pad at break*=2mm,before upper=,after skip=3mm}
\begin{tcblisting}{enhanced jigsaw,lower separated=false,
leftlower=0pt,rightlower=0pt,
colframe=red!50!black,colback=yellow!10!white,
listing options={style=tcblatex,texcsstyle=*\color{red!70!black}},
listing and comment,
pdf comment,freeze pdf,
compilable listing,
run pdflatex
}
\documentclass{beamer}
\usetheme{Warsaw}
\begin{document}
\begin{frame}{Beamer example}
\begin{block}{Hello World}
\begin{itemize}[<+->]
    \item One
    \item Two
\end{itemize}
\end{block}

\begin{alertblock}{Integral}
\begin{equation}
    \visible<3->{\int\limits_1^x \frac{1}{t}~dt}
    \visible<4->{ = \ln(x).}
\end{equation}
\end{alertblock}
\end{frame}
\end{document}
\end{tcblisting}
\end{dispListing*}
{\tcbusetemp}
\end{docTcbKey}


% \clearpage
\begin{docTcbKey}[][doc new=2014-11-14]{run xelatex}{\colOpt{=\meta{arguments}}}{style, no default, initially unset}
Issues a |xelatex| compilation of the listing with the given \meta{arguments}.

% 使用给定的\meta{参数}对列表进行|xelatex|编译。
使用给定的\meta{参数}对源码清单进行|xelatex|编译。
\end{docTcbKey}

\begin{docTcbKey}[][doc new=2014-11-14]{run lualatex}{\colOpt{=\meta{arguments}}}{style, no default, initially unset}
Issues a |lualatex| compilation of the listing with the given \meta{arguments}.

使用给定的\meta{参数}对源码清单进行|lualatex|编译。
\end{docTcbKey}

\begin{docTcbKey}[][doc new=2014-11-14]{run makeindex}{\colOpt{=\meta{arguments}}}{style, no default, initially unset}
Issues a |makeindex| compilation of the listing with the given \meta{arguments}.

使用给定的\meta{参数}对源码清单进行|makeindex|编译。
\end{docTcbKey}

\begin{docTcbKey}[][doc new=2014-11-14]{run bibtex}{\colOpt{=\meta{arguments}}}{style, no default, initially unset}
Issues a |bibtex| compilation of the listing with the given \meta{arguments}.

使用给定的\meta{参数}编译清单的|bibtex|问题。
\end{docTcbKey}

\begin{docTcbKey}[][doc new=2014-11-14]{run biber}{\colOpt{=\meta{arguments}}}{style, no default, initially unset}
Issues a |biber| compilation of the listing with the given \meta{arguments}.

使用给定的\meta{参数}对清单进行|biber|编译。
\end{docTcbKey}

\begin{docTcbKey}[][doc new=2014-11-14]{run arara}{\colOpt{=\meta{arguments}}}{style, no default, initially unset}
Issues an |arara| compilation of the listing with the given \meta{arguments}.

使用给定的\meta{参数}，发布一个列表的|arara|编译。
\end{docTcbKey}

\begin{docTcbKey}[][doc new=2014-11-14]{run latex}{\colOpt{=\meta{arguments}}}{style, no default, initially unset}
Issues a |latex| compilation of the listing with the given \meta{arguments}.

使用给定的\meta{参数}对清单进行|latex|编译。
\end{docTcbKey}

\begin{docTcbKey}[][doc new=2014-11-14]{run dvips}{\colOpt{=\meta{arguments}}}{style, no default, initially unset}
Issues a |dvips| compilation of the listing with the given \meta{arguments}.

使用给定的\meta{参数}，编译清单并生成|dvips|版。
\end{docTcbKey}

\enlargethispage*{1cm}
\begin{docTcbKey}[][doc new=2014-11-14]{run ps2pdf}{\colOpt{=\meta{arguments}}}{style, no default, initially unset}
Issues a |ps2pdf| compilation of the listing with the given \meta{arguments}.

使用给定的\meta{参数}，将清单编译成|ps2pdf|格式。
\end{docTcbKey}

\begin{dispListing*}{breakable,enhanced,pad at break*=2mm,before upper=,after skip=3mm}
\begin{tcblisting}{enhanced jigsaw,
title={PSTricks with pdflatex},fonttitle=\bfseries,
colframe=red!50!black,colback=yellow!10!white,
listing options={style=tcblatex,texcsstyle=*\color{red!70!black}},
lower separated=false,middle=0pt,
listing side comment,righthand width=4cm,
compilable listing,
run latex,run dvips,run ps2pdf,
pdf comment,freeze pdf,
comment style={raster columns=1,
graphics options={viewport=0.5in 7.7in 3.5in 10.5in,clip}},
}
\documentclass{article}
\usepackage{pstricks,multido}
\begin{document}
\psset{unit=3}%
\multido{\nHue=0.01+0.01}{100}{%
\definecolor{MyColor}{hsb}{\nHue,1,1}%
\pscircle[linewidth=0.01,linecolor=MyColor]{\nHue}}
\end{document}
\end{tcblisting}
\end{dispListing*}
{\tcbusetemp}

% %\clearpage

\begin{marker}
For most applications, you will like to add \refKeyLe{/tcb/freeze pdf} as option,
since the included |pdf| file is only refreshed, if the source for this file
has changed.

对于大多数应用，您会喜欢将\refKeyLe{/tcb/freeze pdf}作为选项添加， 因为所包含的|pdf|文件仅在此文件的源发生更改时进行刷新。
\end{marker}

\begin{docTcbKey}[][doc new=2016-07-14]{freeze file}{=\meta{file}}{no default, initially unset}
Observes some \meta{file}, usually the final file produced by \refKeyLe{/tcb/process code},
\refKeyLe{/tcb/run system command}, \refKeyLe{/tcb/run pdflatex}, etc.
If the MD5 checksum of the current \refKeyLe{/tcb/listing file} is unchanged
and \meta{file} exists, the processing is skipped and
the \meta{file} is kept (frozen).
Typically, the style \refKeyLe{/tcb/freeze pdf} can be used for
convenience.

观察一些\meta{文件}，通常是由\refKeyLe{/tcb/process code}，\refKeyLe{/tcb/run system command}，\refKeyLe{/tcb/run pdflatex}等生成的最终文件。 如果当前\refKeyLe{/tcb/listing file}的MD5校验和未更改且\meta{文件}存在，则跳过处理并保留\meta{文件}（冻结）。 通常，可以使用样式\refKeyLe{/tcb/freeze pdf}以方便处理。
\end{docTcbKey}

\begin{docTcbKey}[][doc new=2016-07-14]{freeze none}{}{no default, initially set}
Freeze no file and always execute the given process commands.

不要冻结任何文件，并始终执行给定的进程命令。
\end{docTcbKey}

\begin{docTcbKey}[][doc new=2016-07-14]{freeze extension}{=\meta{text}}{style, no default}
Calls \refKeyLe{/tcb/freeze file} with the current \refKeyLe{/tcb/listing file}
stripped with its extension plus \meta{text} as new extension.

使用当前的\refKeyLe{/tcb/listing file}，将其剥离扩展名并加上\meta{text}作为新的扩展名，调用\refKeyLe{/tcb/freeze file}。
\begin{dispListing}
...
listing file=myfile.tex,
freeze extension=-modified.pdf,    % ->   myfile-modified.pdf   is observed
...
\end{dispListing}
\end{docTcbKey}

\begin{docTcbKey}[][doc new=2016-07-14]{freeze pdf}{}{no value}
Calls \refKeyLe{/tcb/freeze file} with the current \refKeyLe{/tcb/listing file}
stripped with its extension plus |.pdf| as new extension.

使用当前的 \refKeyLe{/tcb/listing file} 去调用 \refKeyLe{/tcb/freeze file}，并将其扩展名去除，然后加上新的扩展名 |.pdf|。
\end{docTcbKey}

\begin{docTcbKey}[][doc new=2016-07-14]{freeze png}{}{no value}
Calls \refKeyLe{/tcb/freeze file} with the current \refKeyLe{/tcb/listing file}
stripped with its extension plus |.png| as new extension.
See the examples for \refKeyLe{/tcb/run pdflatex} and \refKeyLe{/tcb/run ps2pdf}.

使用当前的\refKeyLe{/tcb/listing file}，去掉其扩展名，再加上|.png|作为新的扩展名来调用\refKeyLe{/tcb/freeze file}。请参见\refKeyLe{/tcb/run pdflatex}和\refKeyLe{/tcb/run ps2pdf}的示例。
\end{docTcbKey}

\begin{docTcbKey}[][doc new=2016-07-14]{freeze jpg}{}{no value}
Calls \refKeyLe{/tcb/freeze file} with the current \refKeyLe{/tcb/listing file}
stripped with its extension plus |.jpg| as new extension.

调用\refKeyLe{/tcb/freeze file}，其中参数为当前\refKeyLe{/tcb/listing file}，去除文件扩展名并加上|.jpg|作为新的扩展名。
\end{docTcbKey}