\setcounter{section}{4}
\setcounter{subsection}{2}
\setcounter{subsubsection}{0}
\subsection{Upper Part\\upper部分} 

The text content of a \refEnvLe{tcolorbox} may be parted into a mandatory \emph{upper part}
and an optional \emph{lower part}. These parts are separated by
\refComLe{tcblower}. If there is no \refComLe{tcblower} present, there is no
\emph{lower part} and the \emph{upper part} forms the complete text content.


\refEnvLe{tcolorbox} 的文本内容包括一个必需的 \cshTBlineBbox[blue]{upper} 部分和一个可选的
\cshTBlineBbox[gray]{lower} 部分。它们由\refComLe{tcblower}分隔。如果没有\refComLe{tcblower}，则没有\emph{lower}部分，而\emph{upper}部分构成完整的文本内容。

\begin{tcblisting}{%title={Snapshot of the staging area},
csh texdef result={
\mintinline[breaklines]{shell}|latexdef --tempdir /Volumes/RamDisk -p '[all]tcolorbox' --texoptions '-shell-escape' --before '\begin{tcolorbox}' --after '\end{tcolorbox}'  -s tcblower|
}
}
\tcblower:
macro:->\tcb@insert@after@part \end {tcb@savebox}\tcb@set@color {tcbcollower}\unless \iftcb@sidebyside \tcbdimto \tcb@w@lower {\tcb@innerwidth -\kvtcb@boxsep *2-\kvtcb@leftlower -\kvtcb@rightlower }\fi \tcb@hasLowertrue \let \tcb@insert@after@part =\tcb@insert@after@lower \ifx \kvtcb@savelowerto \@empty \let \tcb@startbox \tcb@savelowerbox \let \endtcolorbox \tcb@endboxanddraw \else \let \tcb@startbox \tcb@lowerverbatim \expandafter \let \csname end\kvtcb@savedelimiter \expandafter \endcsname \csname tcb@endlowerverbatimanddraw\endcsname \fi \tcb@startbox 
\end{tcblisting}

\begin{docTcbKey}[][doc new=2015-01-06]{upperbox}{=\meta{mode}}{no default, initially \texttt{visible}}
Controls the treatment of the upper part of the box. If there is no lower part,  this is the complete text content.
Feasible values for \meta{mode} are:

控制例子的upper部分的显示处理。如果没有lower部分, upper部分内容即是所有内容。
可设置的 \meta{mode} 值有:
\begin{DescriptionL}{\docValue{invisible}}
\item[\docValue{visible}]usual type setting of the upper part,
\par 可见，upper部分的常用设定
\item[\docValue{invisible}] empty space instead of the upper part contents.
\par 不可见，upper部分内容显示为空白。
\end{DescriptionL}
% \begin{exdispExample}{upperbox}
% \begin{tcolorbox}[upperbox=invisible,colback=white%
% ,title=upperbox设置为invisible且没有lower部分]
% 这是一个\textbf{tcolorbox}（但是是隐形的）。
% \end{tcolorbox}

% \begin{tcolorbox}[upperbox=invisible,colback=white%
% ,title=upperbox设置为invisible时只显示lower部分]
% 这是一个\textbf{tcolorbox}（但是是隐形的）。
% \tcblower
% 这是lower部分。
% \end{tcolorbox}
% \end{exdispExample}

\begin{dispExample*}{sbs}
\begin{tcolorbox}[upperbox=invisible%
,colback=white%
,title=upperbox设置为invisible%
且没有lower部分]
这是一个\textbf{tcolorbox}（但是是隐形的）。
\end{tcolorbox}
\end{dispExample*}

\begin{dispExample*}{sbs}
\begin{tcolorbox}[upperbox=invisible%
,colback=white%
,title=upperbox设置为invisible%
时只显示lower部分]
这是一个\textbf{tcolorbox}（但是是隐形的）。
\tcblower
这是lower部分。
\end{tcolorbox}
\end{dispExample*}
 
\end{docTcbKey}


\begin{docTcbKey}[][doc new and updated={2015-01-06}{2019-03-01}]{visible}{}{style, no value}
Shortcut for setting \refKeyLe{/tcb/upperbox}, \refKeyLe{/tcb/lowerbox}, and \refKeyLe{/tcb/titlebox}
to be \docValue{visible}.

同时设置 \refKeyLe{/tcb/upperbox}, \refKeyLe{/tcb/lowerbox}, 和 \refKeyLe{/tcb/titlebox} 为 \docValue{visible} 的快捷方式。
\end{docTcbKey}

\begin{docTcbKey}[][doc new and updated={2015-01-06}{2019-03-01}]{invisible}{}{style, no value}
Shortcut for setting \refKeyLe{/tcb/upperbox}, \refKeyLe{/tcb/lowerbox}, and \refKeyLe{/tcb/titlebox}
to be \docValue{invisible}.

设置 \refKeyLe{/tcb/upperbox}, \refKeyLe{/tcb/lowerbox}, 和 \refKeyLe{/tcb/titlebox} 为 \docValue{invisible} 的快捷方式。
\begin{exdispExample}{invisible}
\begin{tcolorbox}[invisible]
这是一个\textbf{tcolorbox}（但是是隐形的）。
\tcblower
这是\textbf{lower部分}（但是是隐形的）。
\end{tcolorbox}
\end{exdispExample}
\end{docTcbKey}




% \clearpage
\begin{docTcbKey}[][doc new=2015-05-04]{saveto}{=\meta{file name}}{no default, initially empty}
Saves the content of the box into a file for an optional later usage.
This is the counterpart of \refKeyLe{/tcb/savelowerto}, but is saves not
only the upper part but the whole content. If a lower part is present,
it is also saved including \refComLe{tcblower}.

% 将盒子的内容保存到一个文件中，以供以后使用。
% 这和 \refKeyLe{/tcb/savelowerto} 类似, 但它不仅保存了upper部分，是保存了整个内容。
% 如果存在lower部分,也会保存且包含 \refComLe{tcblower}。

将盒子的内容保存到文件中，以备将来需要时使用。这是\refKeyLe{/tcb/savelowerto}的对应项，但不仅保存upper部分，而是保存整个内容。如果存在lower部分，则也会保存，包括\refComLe{tcblower}。

\begin{marker}
This option cannot be combined with \refKeyLe{/tcb/savelowerto}.

此项不能同 \refKeyLe{/tcb/savelowerto} 组合使用.
\end{marker}

\begin{exdispExample}{saveto_1}
\begin{tcolorbox}[invisible%upper、lower都不显示
,saveto=\jobname_mysave1.tex
,colback=white
,before upper={before upper}]
这是一个\textbf{tcolorbox}，使用invisible后，看着是空的。
它的内容被saveto暂存到指定的文件中，后续再在其他位置包含进来使用。
\end{tcolorbox}

现在,我们包含进来保存好的文本内容:\\
\input{\jobname_mysave1.tex}


\end{exdispExample}

% before upper

\begin{引述之言}{virhuiai}
在LaTeX中,\verb|\jobname| 代表当前文档的名称(不含扩展名)。
\end{引述之言}

\begin{引述之言}{virhuiai}
如果有\verb|before upper|,但设置了invisible,这部分内容不会写入saveto指定的文件中哦!
\end{引述之言}

% \begin{tcolorbox}[%invisible%upper、lower都不显示
% ,colback=white
% ,before upper={before upper}]
% 这是一个\textbf{tcolorbox}，使用invisible后，看着是空的。
% 它的内容被saveto暂存到指定的文件中，后续再在其他位置包含进来使用。
% \end{tcolorbox}

% 在LaTeX中,\jobname代表当前文档的名称(不含扩展名):

% \jobname会展开为去除文件扩展名后的文档名称。

% 例如源文件名为paper.tex,\jobname会展开为paper。

% 如果文件名包含路径,也会去掉路径部分。

% \jobname不包含空格及特殊字符,全部转为小写字母。

% \jobname根据TeX引擎和运行方式有细微差异:

% tex命令默认为文件名。

% latex命令默认为文件名。

% xelatex默认为不含扩展名的文件名。

% \jobname通常用于生成与文档相关的外部文件。

% 也可在导言区重新定义\jobname的值。

% \jobname在标题、摘要、目录等地方也有应用。

% 综上,\jobname可以动态获取文档的名称,对文档编译和内容引用非常有用。它可以确保输出文件名与源文件同步更新。

\begin{exdispExample}{saveto_2}
\begin{tcolorbox}[saveto=\jobname_mysave2.tex]
这是一个\textbf{tcolorbox}.
\tcblower
这是lower部分。
\end{tcolorbox}

现在,我们包含进来保存好的文本内容:
\begin{tcolorbox}[colframe=red,colback=red!10,
coltitle=black,colbacktitle=red!20
,sidebyside%从上下改为左右
,title=在这里我们看到保存的内容包括lower部分]
\input{\jobname_mysave2.tex}
\end{tcolorbox}
\end{exdispExample}
\end{docTcbKey}

% 可以看下这个 mysave2.tex 文件，内容是：

% 这是一个\textbf{tcolorbox}.
% \tcblower
% 这是lower部分。
